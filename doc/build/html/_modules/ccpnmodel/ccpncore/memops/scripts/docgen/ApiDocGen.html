
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen &#8212; Python  documentation</title>
    <link rel="stylesheet" href="../../../../../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../../index.html">Python  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../../../index.html" accesskey="U">Module code</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Module Documentation here</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="c1">#=========================================================================================</span>
<span class="c1"># Licence, Reference and Credits</span>
<span class="c1">#=========================================================================================</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s2">&quot;Copyright (C) CCPN project (http://www.ccpn.ac.uk) 2014 - 2017&quot;</span>
<span class="n">__credits__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Wayne Boucher, Ed Brooksbank, Rasmus H Fogh, Luca Mureddu, Timothy J Ragan &amp; Geerten W Vuister&quot;</span><span class="p">)</span>
<span class="n">__licence__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;CCPN licence. See http://www.ccpn.ac.uk/v3-software/downloads/license&quot;</span><span class="p">,</span>
               <span class="s2">&quot;or ccpnmodel.ccpncore.memops.Credits.CcpnLicense for licence text&quot;</span><span class="p">)</span>
<span class="n">__reference__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;For publications, please use reference from http://www.ccpn.ac.uk/v3-software/downloads/license&quot;</span><span class="p">,</span>
               <span class="s2">&quot;or ccpnmodel.ccpncore.memops.Credits.CcpNmrReference&quot;</span><span class="p">)</span>

<span class="c1">#=========================================================================================</span>
<span class="c1"># Last code modification</span>
<span class="c1">#=========================================================================================</span>
<span class="n">__modifiedBy__</span> <span class="o">=</span> <span class="s2">&quot;$modifiedBy: CCPN $&quot;</span>
<span class="n">__dateModified__</span> <span class="o">=</span> <span class="s2">&quot;$dateModified: 2017-07-07 16:33:24 +0100 (Fri, July 07, 2017) $&quot;</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;$Revision: 3.0.0 $&quot;</span>
<span class="c1">#=========================================================================================</span>
<span class="c1"># Created</span>
<span class="c1">#=========================================================================================</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;$Author: CCPN $&quot;</span>
<span class="n">__date__</span> <span class="o">=</span> <span class="s2">&quot;$Date: 2017-04-07 10:28:48 +0000 (Fri, April 07, 2017) $&quot;</span>
<span class="c1">#=========================================================================================</span>
<span class="c1"># Start of code</span>
<span class="c1">#=========================================================================================</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">======================COPYRIGHT/LICENSE START==========================</span>

<span class="sd">ApiDocGen.py: Code generation for CCPN framework</span>

<span class="sd">Copyright (C) 2007 Wayne Boucher (CCPN Project)</span>

<span class="sd">=======================================================================</span>

<span class="sd">This library is free software; you can redistribute it and/or</span>
<span class="sd">modify it under the terms of the GNU General Public</span>
<span class="sd">License as published by the Free Software Foundation; either</span>
<span class="sd">version 2 of the License, or (at your option) any later version.</span>
<span class="sd"> </span>
<span class="sd">A copy of this license can be found in ../license/GPL.license</span>
<span class="sd"> </span>
<span class="sd">This library is distributed in the hope that it will be useful,</span>
<span class="sd">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="sd">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU</span>
<span class="sd">General Public License for more details.</span>
<span class="sd"> </span>
<span class="sd">You should have received a copy of the GNU General Public</span>
<span class="sd">License along with this library; if not, write to the Free Software</span>
<span class="sd">Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</span>


<span class="sd">======================COPYRIGHT/LICENSE END============================</span>

<span class="sd">for further information, please contact :</span>

<span class="sd">- CCPN website (http://www.ccpn.ac.uk/)</span>

<span class="sd">- email: ccpn@bioc.cam.ac.uk</span>

<span class="sd">=======================================================================</span>

<span class="sd">If you are using this software for academic purposes, we suggest</span>
<span class="sd">quoting the following references:</span>

<span class="sd">===========================REFERENCE START=============================</span>
<span class="sd">R. Fogh, J. Ionides, E. Ulrich, W. Boucher, W. Vranken, J.P. Linge, M.</span>
<span class="sd">Habeck, W. Rieping, T.N. Bhat, J. Westbrook, K. Henrick, G. Gilliland,</span>
<span class="sd">H. Berman, J. Thornton, M. Nilges, J. Markley and E. Laue (2002). The</span>
<span class="sd">CCPN project: An interim report on a data model for the NMR community</span>
<span class="sd">(Progress report). Nature Struct. Biol. 9, 416-418.</span>

<span class="sd">Rasmus H. Fogh, Wayne Boucher, Wim F. Vranken, Anne</span>
<span class="sd">Pajon, Tim J. Stevens, T.N. Bhat, John Westbrook, John M.C. Ionides and</span>
<span class="sd">Ernest D. Laue (2005). A framework for scientific data modeling and automated</span>
<span class="sd">software development. Bioinformatics 21, 1678-1684.</span>

<span class="sd">===========================REFERENCE END===============================</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">string</span>

<span class="kn">from</span> <span class="nn">ccpnmodel.ccpncore.memops.metamodel</span> <span class="kn">import</span> <span class="n">MetaModel</span>
<span class="kn">from</span> <span class="nn">ccpnmodel.ccpncore.memops.metamodel.ModelTraverse</span> <span class="kn">import</span> <span class="n">ModelTraverse</span>
<span class="kn">from</span> <span class="nn">ccpnmodel.ccpncore.memops.metamodel</span> <span class="kn">import</span> <span class="n">OpTypes</span>
<span class="kn">from</span> <span class="nn">ccpnmodel.ccpncore.memops.metamodel</span> <span class="kn">import</span> <span class="n">Util</span> <span class="k">as</span> <span class="n">metaUtil</span>
<span class="kn">from</span> <span class="nn">ccpnmodel.ccpncore.memops.metamodel</span> <span class="kn">import</span> <span class="n">Constants</span> <span class="k">as</span> <span class="n">metaConstants</span>
<span class="kn">from</span> <span class="nn">ccpnmodel.ccpncore.memops.license</span> <span class="kn">import</span> <span class="n">data</span> <span class="k">as</span> <span class="n">licenseData</span>
<span class="kn">from</span> <span class="nn">ccpn.util</span> <span class="kn">import</span> <span class="n">Path</span> <span class="k">as</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">ccpnmodel.ccpncore.memops.license</span> <span class="kn">import</span> <span class="n">headers</span>
<span class="kn">from</span> <span class="nn">ccpnmodel.ccpncore.memops.metamodel</span> <span class="kn">import</span> <span class="n">TextWriter</span>
<span class="kn">from</span> <span class="nn">ccpnmodel.ccpncore.memops.scripts.docgen.Documentation</span> <span class="kn">import</span> <span class="n">Documentation</span>


<span class="n">infinity</span> <span class="o">=</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">infinity</span>
<span class="n">MemopsError</span> <span class="o">=</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MemopsError</span>

<span class="n">mandatoryAttributes</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;apiName&#39;</span><span class="p">,</span> <span class="s1">&#39;baseDirName&#39;</span><span class="p">,</span> <span class="s1">&#39;fileSuffix&#39;</span><span class="p">,</span> <span class="s1">&#39;scriptName&#39;</span><span class="p">)</span>

<span class="n">attrOpTypes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="s1">&#39;sorted&#39;</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="s1">&#39;remove&#39;</span><span class="p">,</span> <span class="s1">&#39;findFirst&#39;</span><span class="p">,</span> <span class="s1">&#39;findAll&#39;</span><span class="p">]</span>
<span class="n">classOpTypes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fullDelete&#39;</span><span class="p">,</span> <span class="s1">&#39;fullUnDelete&#39;</span><span class="p">,</span> <span class="s1">&#39;checkValid&#39;</span><span class="p">,</span> <span class="s1">&#39;checkAllValid&#39;</span><span class="p">,</span> <span class="s1">&#39;getByKey&#39;</span><span class="p">,</span>
                <span class="s1">&#39;getFullKey&#39;</span><span class="p">,</span> <span class="s1">&#39;getLocalKey&#39;</span><span class="p">,</span> <span class="s1">&#39;getAttr&#39;</span><span class="p">,</span> <span class="s1">&#39;setAttr&#39;</span><span class="p">,</span> <span class="s1">&#39;clone&#39;</span><span class="p">]</span>
<span class="n">newOpTypes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;new&#39;</span><span class="p">]</span>
<span class="n">otherOpTypes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;otherQuery&#39;</span><span class="p">,</span> <span class="s1">&#39;otherModify&#39;</span><span class="p">,</span> <span class="s1">&#39;otherCreate&#39;</span><span class="p">,</span> <span class="s1">&#39;otherDelete&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;other&#39;</span><span class="p">]</span>
<span class="n">ignoreOpTypes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;init&#39;</span><span class="p">,</span> <span class="s1">&#39;checkDelete&#39;</span><span class="p">,</span> <span class="s1">&#39;singleDelete&#39;</span><span class="p">,</span> <span class="s1">&#39;singleUnDelete&#39;</span><span class="p">]</span>

<span class="c1"># check that not missing something and that do not have any extra</span>
<span class="n">usedOpTypes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">attrOpTypes</span> <span class="o">+</span> <span class="n">classOpTypes</span> <span class="o">+</span> <span class="n">newOpTypes</span> <span class="o">+</span> <span class="n">otherOpTypes</span> <span class="o">+</span> <span class="n">ignoreOpTypes</span><span class="p">)</span>
<span class="n">usedOpTypes</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="n">allOpTypes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">OpTypes</span><span class="o">.</span><span class="n">operationData</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="n">allOpTypes</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="k">if</span> <span class="n">usedOpTypes</span> <span class="o">!=</span> <span class="n">allOpTypes</span><span class="p">:</span>
  <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;allOpTypes = </span><span class="si">%s</span><span class="s1">, usedOpTypes = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">allOpTypes</span><span class="p">,</span> <span class="n">usedOpTypes</span><span class="p">))</span>

<span class="c1"># pkgGroup* stuff is for diagrams</span>
<span class="n">pkgGroupData</span> <span class="o">=</span> <span class="p">{</span>
 <span class="s1">&#39;core&#39;</span><span class="p">:{</span><span class="s1">&#39;htmlClass&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="s1">&#39;homeTitle&#39;</span>
  <span class="p">:</span><span class="s1">&#39;Core packages (CCPN)&#39;</span>
 <span class="p">},</span>
 <span class="s1">&#39;nmr&#39;</span><span class="p">:{</span><span class="s1">&#39;htmlClass&#39;</span><span class="p">:</span><span class="s1">&#39;nmr&#39;</span><span class="p">,</span>
  <span class="s1">&#39;homeTitle&#39;</span><span class="p">:</span><span class="s1">&#39;NMR and related packages (CCPN)&#39;</span>
 <span class="p">},</span>
 <span class="s1">&#39;pp&#39;</span><span class="p">:{</span><span class="s1">&#39;htmlClass&#39;</span><span class="p">:</span><span class="s1">&#39;ppdm&#39;</span><span class="p">,</span>
  <span class="s1">&#39;homeTitle&#39;</span><span class="p">:</span><span class="s1">&#39;Protein Production packages (EBI/MSD)&#39;</span>
 <span class="p">}</span>
<span class="p">}</span>
<span class="n">pkgGroupOrder</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;pp&#39;</span><span class="p">,</span> <span class="s1">&#39;core&#39;</span><span class="p">,</span> <span class="s1">&#39;nmr&#39;</span><span class="p">)</span>

<span class="c1"># Requires other writers also to be implemented in subclass</span>
<div class="viewcode-block" id="ApiDocGen"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen">[docs]</a><span class="k">class</span> <span class="nc">ApiDocGen</span><span class="p">(</span><span class="n">Documentation</span><span class="p">,</span> <span class="n">ModelTraverse</span><span class="p">):</span>
  
  <span class="n">topApiPrefix</span> <span class="o">=</span> <span class="s1">&#39;api&#39;</span>
  <span class="n">classMapPrefix</span> <span class="o">=</span> <span class="s1">&#39;classMap&#39;</span>
  <span class="n">methodMapPrefix</span> <span class="o">=</span> <span class="s1">&#39;methodMap&#39;</span>
  <span class="n">indexPrefix</span> <span class="o">=</span> <span class="s1">&#39;_index&#39;</span>
  <span class="c1">###attrRoleDir = &#39;attributeMap&#39;</span>
  <span class="n">attributeMapPrefix</span> <span class="o">=</span> <span class="s1">&#39;attributeMap&#39;</span>
  <span class="n">imageDir</span> <span class="o">=</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">imageDir</span>
  <span class="c1"># docDir = metaConstants.docDir</span>
  <span class="n">apiFileDir</span> <span class="o">=</span> <span class="s1">&#39;static&#39;</span>
  <span class="c1"># docSubDirs = [&#39;api&#39;,&#39;doc&#39;]</span>
  <span class="c1"># modelDiagramDir = &#39;doc&#39;</span>
  <span class="n">diagImgDir</span> <span class="o">=</span> <span class="s1">&#39;apidiagram&#39;</span>
  <span class="n">diagFileExt</span> <span class="o">=</span> <span class="s1">&#39;_Diag.gif&#39;</span>
  <span class="n">detailDiagExt</span> <span class="o">=</span> <span class="s1">&#39;-details&#39;</span>
  <span class="n">helpPrefix</span> <span class="o">=</span> <span class="s1">&#39;help&#39;</span>
  <span class="n">licensePrefix</span> <span class="o">=</span> <span class="s1">&#39;license&#39;</span>

  <span class="n">draftDocString</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">DRAFT - backward compatibility of future versions not guaranteed.&lt;br&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    
    <span class="n">settings</span> <span class="o">=</span> <span class="n">TextWriter</span><span class="o">.</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;html&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="n">settings</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">mandatoryAttributes</span><span class="p">:</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">MemopsError</span><span class="p">(</span><span class="s2">&quot;ApiDocGen lacks mandatory </span><span class="si">%s</span><span class="s2"> attribute&quot;</span> <span class="o">%</span> <span class="n">tag</span><span class="p">)</span>

    <span class="c1">#self.codeDirName = uniIo.joinPath(genConstants.apiCodeDir, self.docDir)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">codeDirName</span> <span class="o">=</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">apiCodeDir</span>
    <span class="c1"># self.topDocDir = Path.joinPath(self.baseDirName, self.docDir)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">modelDiagramDir</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">baseDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagImgDir</span><span class="p">)</span>
    <span class="c1"># self.baseDirName = Path.joinPath(self.baseDirName, self.docDir)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">baseDirName</span><span class="p">,</span>  <span class="n">metaConstants</span><span class="o">.</span><span class="n">docDir</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">topApiFile</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">topApiPrefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">classMapFile</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">classMapPrefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">methodMapFile</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">methodMapPrefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">attributeMapFile</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attributeMapPrefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">indexPrefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">typeCodeKey</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">modelFlavours</span><span class="p">[</span><span class="s1">&#39;language&#39;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">impPackage</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># init handling</span>
    <span class="c1">#super(ApiDocGen, self).__init__()</span>
    <span class="n">Documentation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">ModelTraverse</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">diagramOrderedPackages</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDiagramOrderedPackages</span><span class="p">()</span>
    
    <span class="c1"># get dictionary of -to-one links and datatype use</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">valueTypeUse</span> <span class="o">=</span> <span class="n">valueTypeUse</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">pp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modelPortal</span><span class="o">.</span><span class="n">leafPackagesByImport</span><span class="p">():</span>
      <span class="k">for</span> <span class="n">cc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modelPortal</span><span class="o">.</span><span class="n">classesByInheritance</span><span class="p">(</span><span class="n">pp</span><span class="p">):</span>
        <span class="c1"># add one-way roles</span>
        <span class="k">for</span> <span class="n">role</span> <span class="ow">in</span> <span class="n">cc</span><span class="o">.</span><span class="n">roles</span><span class="p">:</span>
          <span class="k">if</span> <span class="n">role</span><span class="o">.</span><span class="n">otherRole</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">role</span><span class="o">.</span><span class="n">isImplicit</span><span class="p">:</span>
            <span class="c1"># one-way link</span>
            <span class="n">valueType</span> <span class="o">=</span> <span class="n">role</span><span class="o">.</span><span class="n">valueType</span>
            <span class="n">ll</span> <span class="o">=</span> <span class="n">valueTypeUse</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">valueType</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ll</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
              <span class="n">valueTypeUse</span><span class="p">[</span><span class="n">valueType</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">role</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
              <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">role</span><span class="p">)</span>
        
        <span class="c1"># add datatype use</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">cc</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span>
          <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">isImplicit</span><span class="p">:</span>
            <span class="n">valueType</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">valueType</span>
            <span class="n">ll</span> <span class="o">=</span> <span class="n">valueTypeUse</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">valueType</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ll</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
              <span class="n">valueTypeUse</span><span class="p">[</span><span class="n">valueType</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
              <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
      
      <span class="k">for</span> <span class="n">cc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modelPortal</span><span class="o">.</span><span class="n">dataObjTypesByInheritance</span><span class="p">(</span><span class="n">pp</span><span class="p">):</span>
        <span class="c1"># add datatype use</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">cc</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span>
          <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">isImplicit</span><span class="p">:</span>
            <span class="n">valueType</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">valueType</span>
            <span class="n">ll</span> <span class="o">=</span> <span class="n">valueTypeUse</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">valueType</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ll</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
              <span class="n">valueTypeUse</span><span class="p">[</span><span class="n">valueType</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
              <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>

    <span class="c1"># TBD: relies on separator being /</span>
    <span class="c1"># self.baseDirNames = self.baseDirName.split(&#39;/&#39;)</span>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>
  <span class="c1">###</span>
  <span class="c1">### code overriding ModelTraverse</span>
  <span class="c1">###</span>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

  <span class="c1"># overrides ModelTraverse</span>
<div class="viewcode-block" id="ApiDocGen.processBranchPackage"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.processBranchPackage">[docs]</a>  <span class="k">def</span> <span class="nf">processBranchPackage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; processing actions for branch package</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">packageDirName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getObjDocDirName</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="c1">#print &#39;processBranchPackage&#39;, package.qualifiedName(), packageDirName</span>
    
    <span class="k">if</span> <span class="n">package</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modelPortal</span><span class="o">.</span><span class="n">twigPackages</span><span class="p">():</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">clearOutDir</span><span class="p">(</span><span class="n">packageDirName</span><span class="p">)</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">createDir</span><span class="p">(</span><span class="n">packageDirName</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">package</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
      <span class="n">directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getObjDocDirName</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
      <span class="n">fileName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexPrefix</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">fileName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rootDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topApiPrefix</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">impPackage</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">getElement</span><span class="p">(</span><span class="n">metaConstants</span><span class="o">.</span><span class="n">modellingPackageName</span><span class="p">)</span><span class="o">.</span><span class="n">getElement</span><span class="p">(</span><span class="n">metaConstants</span><span class="o">.</span><span class="n">implementationPackageName</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementComment</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;CCPN </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">apiName</span>
    <span class="k">if</span> <span class="n">package</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
      <span class="n">title</span> <span class="o">+=</span> <span class="s1">&#39; - </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImportName</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="p">(</span><span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPrevNextPackages</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementHeader</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">prev</span><span class="o">=</span><span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="o">=</span><span class="n">foll</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">package</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBranchPackage</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeRootPackage</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span>

    <span class="c1"># write class, attribute, method maps (only do once, for root package)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">package</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>

      <span class="c1"># write class map</span>
      <span class="n">fileName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rootDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">classMapPrefix</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
      <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;CCPN </span><span class="si">%s</span><span class="s1"> - Class Map&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">apiName</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeElementHeader</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">special</span><span class="o">=</span><span class="s1">&#39;Class Map&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeClassMap</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span>

      <span class="c1"># write attribute map</span>
      <span class="c1">##self.writeAttrRoleMap(package)</span>
      <span class="n">fileName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rootDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributeMapPrefix</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
      <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;CCPN </span><span class="si">%s</span><span class="s1"> - Attribute Map&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">apiName</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeElementHeader</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">special</span><span class="o">=</span><span class="s1">&#39;Attribute Map&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeAttributeMap</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span>


      <span class="c1"># write method map</span>
      <span class="n">fileName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rootDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">methodMapPrefix</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
      <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;CCPN </span><span class="si">%s</span><span class="s1"> - Method Map&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">apiName</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeElementHeader</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">special</span><span class="o">=</span><span class="s1">&#39;Method Map&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeMethodMap</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span>

    <span class="c1"># write package diagram documentation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramDocumentation</span><span class="p">(</span><span class="n">package</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

  <span class="c1"># overrides ModelTraverse</span>
<div class="viewcode-block" id="ApiDocGen.processLeafPackage"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.processLeafPackage">[docs]</a>  <span class="k">def</span> <span class="nf">processLeafPackage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; processing actions for leaf package</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">fileName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getObjDocFileName</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="n">packageDirName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">splitPath</span><span class="p">(</span><span class="n">fileName</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1">#print &#39;processLeafPackage&#39;, package.qualifiedName(), packageDirName</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">createDir</span><span class="p">(</span><span class="n">packageDirName</span><span class="p">)</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementComment</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;CCPN </span><span class="si">%s</span><span class="s1"> - </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apiName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImportName</span><span class="p">(</span><span class="n">package</span><span class="p">))</span>
    <span class="p">(</span><span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getPrevNextPackages</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementHeader</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">prev</span><span class="o">=</span><span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="o">=</span><span class="n">foll</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLeafPackage</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span>

    <span class="c1"># write related files</span>

    <span class="n">elems</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">classes</span> <span class="o">+</span> <span class="n">package</span><span class="o">.</span><span class="n">dataObjTypes</span> <span class="o">+</span> <span class="n">package</span><span class="o">.</span><span class="n">dataTypes</span>
    <span class="n">elems</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">elems</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
    <span class="n">elems</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">elems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elems</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
      <span class="n">elem</span> <span class="o">=</span> <span class="n">elems</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span>

      <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaClass</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeClassDocumentation</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">elems</span><span class="p">[</span><span class="n">ii</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">elems</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
      <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaDataObjType</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeDataObjTypeDocumentation</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">elems</span><span class="p">[</span><span class="n">ii</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">elems</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
      <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaDataType</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeDataTypeDocumentation</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">elems</span><span class="p">[</span><span class="n">ii</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">elems</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MemopsError</span><span class="p">(</span><span class="s2">&quot;Illegal type object found : </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">elem</span><span class="p">)</span>

    <span class="c1"># write package diagram documentation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramDocumentation</span><span class="p">(</span><span class="n">package</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>
  <span class="c1">###</span>
  <span class="c1">### internal code</span>
  <span class="c1">###</span>
  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeRootPackage"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeRootPackage">[docs]</a>  <span class="k">def</span> <span class="nf">writeRootPackage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; write code for Root package</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="n">apiFileDir</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">upDir</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">apiFileDir</span><span class="p">)</span>
    <span class="n">diagImgDir</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">upDir</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagImgDir</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> Documentation&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">apiName</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writePageDocString</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;See Also:&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeNonBreakingSpaces</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">diagImgDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span><span class="p">),</span> <span class="s1">&#39;Documentation&#39;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s1">&#39;blank&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;for Data Model&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">apiFileDir</span><span class="p">,</span> <span class="s1">&#39;quickguide.html&#39;</span><span class="p">),</span> <span class="s1">&#39;Quick Guide&#39;</span><span class="p">,</span>
                   <span class="n">target</span><span class="o">=</span><span class="s1">&#39;blank&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;to CCP software&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">apiFileDir</span><span class="p">,</span> <span class="s1">&#39;api-description.html&#39;</span><span class="p">),</span> <span class="s1">&#39;Overview&#39;</span><span class="p">,</span>
                   <span class="n">target</span><span class="o">=</span><span class="s1">&#39;blank&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;of </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">apiName</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;Directly Contained packages:&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">_class</span><span class="o">=</span><span class="s2">&quot;elemtable&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Package&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Description&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="n">directList</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>

    <span class="c1"># write directly contained packages</span>
    <span class="k">for</span> <span class="n">pp</span> <span class="ow">in</span> <span class="n">directList</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileFromTop</span><span class="p">(</span><span class="n">pp</span><span class="p">))</span>
      <span class="n">tt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">pp</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
      <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElemDocString</span><span class="p">(</span><span class="n">pp</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">tt</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeHorizontalLine</span><span class="p">()</span>

    <span class="c1"># write all contained packages</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;All Contained packages:&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">package</span> <span class="ow">in</span> <span class="n">directList</span><span class="p">:</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> contains:&#39;</span> <span class="o">%</span> <span class="n">package</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
          
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s2">&quot;elemtable&quot;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Package&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s2">&quot;tblhead&quot;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Description&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s2">&quot;tblhead&quot;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
  
      <span class="n">ll</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>

      <span class="k">while</span> <span class="n">ll</span><span class="p">:</span>

        <span class="n">pp</span> <span class="o">=</span> <span class="n">ll</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileFromTop</span><span class="p">(</span><span class="n">pp</span><span class="p">))</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImportName</span><span class="p">(</span><span class="n">pp</span><span class="p">))</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElemDocString</span><span class="p">(</span><span class="n">pp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">tt</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

        <span class="n">ll</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">pp</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">))</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span>
  
    <span class="bp">self</span><span class="o">.</span><span class="n">writePackageGuid</span><span class="p">(</span><span class="n">root</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeClassMap"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeClassMap">[docs]</a>  <span class="k">def</span> <span class="nf">writeClassMap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>

    <span class="c1"># determine what should be listed</span>
    <span class="n">allAbstractDataTypes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">determineAllAbstractDataTypes</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">allAbstractDataTypes</span><span class="p">)</span>

    <span class="c1"># write content page</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDoubleColPage</span><span class="p">(</span><span class="s1">&#39;Class Map&#39;</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">allAbstractDataTypes</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeDoubleColPage"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeDoubleColPage">[docs]</a>  <span class="k">def</span> <span class="nf">writeDoubleColPage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">heading</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">elems</span><span class="p">):</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">colspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="n">heading</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">colspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>

    <span class="n">alphabet</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_uppercase</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">alphabet</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">(),</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;#letter</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">letter</span><span class="p">,</span> <span class="n">letter</span><span class="p">)))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="n">dd</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elems</span><span class="p">:</span>
      <span class="n">key</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span>
      <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaOperation</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">methodHasOwnPage</span><span class="p">(</span><span class="n">elem</span><span class="p">):</span>
        <span class="n">ee</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">target</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">ee</span> <span class="o">=</span> <span class="n">elem</span>

      <span class="n">link</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileFromTop</span><span class="p">(</span><span class="n">ee</span><span class="p">))</span>
      <span class="n">dd</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImportName</span><span class="p">(</span><span class="n">elem</span><span class="p">),</span> <span class="n">elem</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">()</span>

    <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dd</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">keys</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">imax</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
    <span class="n">countLetters</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">alphabet</span><span class="p">:</span>
      <span class="n">countLetters</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStyleString</span><span class="p">(</span><span class="n">letter</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;font-weight: bold; foint-size: 12pt&#39;</span><span class="p">)</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getAnchorLinkString</span><span class="p">(</span><span class="s1">&#39;letter</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">letter</span><span class="p">,</span> <span class="n">ss</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">letter</span><span class="p">:</span>
          <span class="n">countLetters</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">int</span> <span class="p">(</span><span class="n">imax</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">10</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">countLetters</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
              <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStyleString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="o">%</span> <span class="n">letter</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;font-weight: bold; font-size: 12pt;&#39;</span><span class="p">)</span>
              <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">(),</span> <span class="n">ss</span><span class="p">,</span> <span class="s1">&#39;continued&#39;</span><span class="p">)</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

          <span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">longName</span><span class="p">,</span> <span class="n">shortName</span><span class="p">)</span> <span class="o">=</span> <span class="n">dd</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

          <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getSmallString</span><span class="p">(</span><span class="n">longName</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">shortName</span><span class="p">)]),</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getStyleString</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">shortName</span><span class="p">),</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;font-size: 11pt&#39;</span><span class="p">))</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
          <span class="k">del</span> <span class="n">dd</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">())</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1">##self.writeStartRow()</span>
    <span class="c1">##ss = self.getStyleString(&#39;...&#39;, style=&#39;font-weight: bold; foint-size: 12pt&#39;)</span>
    <span class="c1">##ss = &#39;%s%s&#39; % (self.getNonBreakingSpaces(), ss)</span>
    <span class="c1">##self.writeCell(ss)</span>
    <span class="c1">##self.writeEndRow()</span>

    <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dd</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">keys</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
      <span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">longName</span><span class="p">,</span> <span class="n">shortName</span><span class="p">)</span> <span class="o">=</span> <span class="n">dd</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getSmallString</span><span class="p">(</span><span class="n">longName</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">shortName</span><span class="p">)]),</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getStyleString</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">shortName</span><span class="p">),</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;font-size: 11pt;&#39;</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeAttributeMap"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeAttributeMap">[docs]</a>  <span class="k">def</span> <span class="nf">writeAttributeMap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>

    <span class="c1"># determine what should be listed</span>
    <span class="n">allAttrRoles</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">determineAllAttrRoles</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">allAttrRoles</span><span class="p">)</span>

    <span class="c1"># write content page</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDoubleColPage</span><span class="p">(</span><span class="s1">&#39;Attribute Map&#39;</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">allAttrRoles</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeMethodMap"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeMethodMap">[docs]</a>  <span class="k">def</span> <span class="nf">writeMethodMap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>

    <span class="c1"># determine what should be listed</span>
    <span class="n">allMethods</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">determineAllMethods</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">allMethods</span><span class="p">)</span>

    <span class="c1"># write content page</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDoubleColPage</span><span class="p">(</span><span class="s1">&#39;Method Map&#39;</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">allMethods</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeBranchPackage"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeBranchPackage">[docs]</a>  <span class="k">def</span> <span class="nf">writeBranchPackage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; write code for non-Root branch packages</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">)</span>

    <span class="c1"># write page heading</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writePageHeading</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="s1">&#39;Package&#39;</span><span class="p">)</span>

    <span class="c1"># write package documentation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writePageDocString</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="c1"># write directly contained packages</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s2">&quot;elemtable&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Package&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Description&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="n">directList</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">pp</span> <span class="ow">in</span> <span class="n">directList</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileFromTop</span><span class="p">(</span><span class="n">pp</span><span class="p">))</span>
      <span class="n">tt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">pp</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
      <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElemDocString</span><span class="p">(</span><span class="n">pp</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">tt</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writePackageGuid</span><span class="p">(</span><span class="n">package</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeLeafPackage"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeLeafPackage">[docs]</a>  <span class="k">def</span> <span class="nf">writeLeafPackage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; write code for leaf packages</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">()</span>

    <span class="c1"># write page heading</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writePageHeading</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="s1">&#39;Package&#39;</span><span class="p">)</span>

    <span class="c1"># write package documentation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writePageDocString</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;20%&#39;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Classes&#39;</span><span class="p">,</span> <span class="s1">&#39;Classes&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Data Types&#39;</span><span class="p">,</span> <span class="s1">&#39;Data Types&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Data Obj Types&#39;</span><span class="p">,</span> <span class="s1">&#39;Data Obj Types&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">packages</span><span class="p">,</span> <span class="n">heading</span><span class="p">)</span> <span class="ow">in</span> <span class="p">((</span><span class="n">package</span><span class="o">.</span><span class="n">importedPackages</span><span class="p">,</span> <span class="s1">&#39;Imported Packages&#39;</span><span class="p">),</span>
                      <span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">accessedPackages</span><span class="p">,</span> <span class="s1">&#39;Packages Importing </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImportName</span><span class="p">(</span><span class="n">package</span><span class="p">))):</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">package</span><span class="p">,</span><span class="n">pp</span><span class="p">)</span> <span class="k">for</span> <span class="n">pp</span> <span class="ow">in</span> <span class="n">packages</span><span class="p">]</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">:&#39;</span> <span class="o">%</span> <span class="n">heading</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">ll</span><span class="p">:</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">ll2</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="ow">in</span> <span class="n">ll</span><span class="p">:</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span><span class="p">),</span> <span class="n">name</span><span class="p">)</span>
          <span class="n">ll2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
        <span class="n">cc</span> <span class="o">=</span> <span class="s1">&#39;, </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cc</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ll2</span><span class="p">))</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span>

    <span class="n">classes</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">classes</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
    <span class="n">dataObjTypes</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">dataObjTypes</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
    <span class="n">dataTypes</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">dataTypes</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">elems</span><span class="p">,</span> <span class="n">heading</span><span class="p">)</span> <span class="ow">in</span> <span class="p">((</span><span class="n">classes</span><span class="p">,</span> <span class="s1">&#39;Classes&#39;</span><span class="p">),</span>
                             <span class="p">(</span><span class="n">dataObjTypes</span><span class="p">,</span> <span class="s1">&#39;Data Obj Types&#39;</span><span class="p">),</span>
                             <span class="p">(</span><span class="n">dataTypes</span><span class="p">,</span> <span class="s1">&#39;Data Types&#39;</span><span class="p">)):</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeAnchorLink</span><span class="p">(</span><span class="n">heading</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">:&#39;</span> <span class="o">%</span> <span class="n">heading</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s2">&quot;elemtable&quot;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="k">if</span> <span class="n">heading</span> <span class="o">==</span> <span class="s1">&#39;Classes&#39;</span><span class="p">:</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;Class&#39;</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;Type&#39;</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Description&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="k">if</span> <span class="n">elems</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elems</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
          <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">elemHasOwnDirectory</span><span class="p">(</span><span class="n">elem</span><span class="p">):</span>
            <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span><span class="p">),</span> <span class="n">elem</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
          <span class="k">else</span><span class="p">:</span>
            <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="n">elem</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
          <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElemDocString</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writePackageGuid</span><span class="p">(</span><span class="n">package</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeRootPackageDiagram"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeRootPackageDiagram">[docs]</a>  <span class="k">def</span> <span class="nf">writeRootPackageDiagram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; write code for diagram for root package</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># make table lists</span>
    <span class="n">lists</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">pkgGroup</span> <span class="ow">in</span> <span class="n">pkgGroupOrder</span><span class="p">:</span>
      <span class="n">lists</span><span class="p">[</span><span class="n">pkgGroup</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">pp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagramOrderedPackages</span><span class="p">:</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="n">pp</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">:</span>
        <span class="c1"># leaf package</span>
        <span class="n">pkgGroup</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">taggedValues</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;packageGroup&#39;</span><span class="p">,</span><span class="s1">&#39;core&#39;</span><span class="p">)</span>
        <span class="n">lists</span><span class="p">[</span><span class="n">pkgGroup</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pp</span><span class="p">)</span>

    <span class="n">fileName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDiagramFileName</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">isAbsolute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pathList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElementPathList</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="n">pathList</span> <span class="o">=</span> <span class="n">pathList</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upDir</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pathList</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementComment</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramElementHeader</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramLeftBar</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">topPath</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;Diagram Home&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartParagraph</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;middle&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">pkgGroup</span> <span class="ow">in</span> <span class="n">pkgGroupOrder</span><span class="p">:</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="n">lists</span><span class="p">[</span><span class="n">pkgGroup</span><span class="p">]</span>
      <span class="k">if</span> <span class="n">ll</span><span class="p">:</span>
        <span class="n">dd</span> <span class="o">=</span> <span class="n">pkgGroupData</span><span class="p">[</span><span class="n">pkgGroup</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartDiv</span><span class="p">(</span><span class="n">_class</span><span class="o">=</span><span class="s1">&#39;leftbanner&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">130</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">(),</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="n">dd</span><span class="p">[</span><span class="s1">&#39;htmlClass&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">dd</span><span class="p">[</span><span class="s1">&#39;homeTitle&#39;</span><span class="p">],</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;space&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">pp</span> <span class="ow">in</span> <span class="n">ll</span><span class="p">:</span>
          <span class="n">pathList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElementPathList</span><span class="p">(</span><span class="n">pp</span><span class="p">)</span>
          <span class="n">pathList</span> <span class="o">=</span> <span class="n">pathList</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
          <span class="k">if</span> <span class="n">pathList</span><span class="p">:</span>
            <span class="n">dirName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="o">*</span><span class="n">pathList</span><span class="p">)</span>
          <span class="k">else</span><span class="p">:</span>
            <span class="n">dirName</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
          <span class="n">href</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">dirName</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">pp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">))</span>

          <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">_class</span><span class="o">=</span><span class="n">pkgGroupData</span><span class="p">[</span><span class="n">pkgGroup</span><span class="p">][</span><span class="s1">&#39;htmlClass&#39;</span><span class="p">])</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">href</span><span class="p">,</span> <span class="n">pp</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">())</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndDiv</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndParagraph</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartParagraph</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">This documentation may not cover all known model packages. Some diagrams may contain</span>
<span class="s2">classes from model packages that are not covered in the present documentation. If</span>
<span class="s2">so, you should assume that these classes are not relevant to your purpose.</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndParagraph</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span>

    <span class="c1"># extra files</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramHelp</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramLicense</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeBranchPackageDiagram"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeBranchPackageDiagram">[docs]</a>  <span class="k">def</span> <span class="nf">writeBranchPackageDiagram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; write code for diagram for non-root branch packages</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">fileName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDiagramFileName</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">isAbsolute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pathList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElementPathList</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upDir</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pathList</span><span class="p">))</span>
    <span class="n">docDirName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rootDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">modelDiagramDir</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementComment</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramElementHeader</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramLeftBar</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">topPath</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;Package: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">package</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">(),</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getElemDocString</span><span class="p">(</span><span class="n">package</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCenter</span><span class="p">()</span>

    <span class="n">ss</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">taggedValues</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;docDiagramNames&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ss</span><span class="p">:</span>
      <span class="n">diagNames</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">diagName</span> <span class="ow">in</span> <span class="n">diagNames</span><span class="p">:</span>
        <span class="n">diagFile</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">diagName</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagFileExt</span><span class="p">)</span>
        <span class="c1"># diagFile = Path.joinPath(self.diagImgDir, package.qualifiedName().replace(&#39;.&#39;, &#39;_&#39;) + &#39;_&#39; + diagName + self.diagFileExt)</span>
        <span class="n">file</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">docDirName</span><span class="p">,</span> <span class="n">diagFile</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
          <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING1: File </span><span class="si">%s</span><span class="s2"> does not exist&quot;</span> <span class="o">%</span> <span class="n">file</span><span class="p">)</span>
        <span class="n">diagFile</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="n">diagFile</span><span class="p">)</span>
        <span class="n">diagAlt</span>  <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">diagName</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;_&#39;</span><span class="p">:</span>
          <span class="n">diagLegend</span> <span class="o">=</span> <span class="n">diagName</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">diagLegend</span> <span class="o">=</span> <span class="n">diagName</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">diagLegend</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getImageString</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="n">diagFile</span><span class="p">,</span> <span class="n">alt</span><span class="o">=</span><span class="n">diagAlt</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCenter</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeLeafPackageDiagram"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeLeafPackageDiagram">[docs]</a>  <span class="k">def</span> <span class="nf">writeLeafPackageDiagram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; write code for diagram for leaf branch packages</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># get diagram names to generate files from</span>
    <span class="n">diagNameDict</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">dd</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">package</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
    <span class="n">ss</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">taggedValues</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;docDiagramNames&#39;</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">detailDiagExt</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ss</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">ss</span> <span class="ow">in</span> <span class="n">ss</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
        <span class="n">diagNameDict</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
        <span class="c1"># strip leading underscore</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="n">ss</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">if</span> <span class="n">ss</span><span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">:]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">detailDiagExt</span><span class="p">:</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="n">ss</span><span class="p">[:</span><span class="o">-</span><span class="n">n</span><span class="p">]</span>
        <span class="n">dd</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
    <span class="n">diagramTags</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dd</span><span class="p">)</span>
    <span class="n">diagramTags</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

    <span class="c1"># make files</span>
    <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">diagramTags</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLeafPackageTagDiagram</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">diagramTags</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeLeafPackageTagDiagram"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeLeafPackageTagDiagram">[docs]</a>  <span class="k">def</span> <span class="nf">writeLeafPackageTagDiagram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">diagramTags</span><span class="p">):</span>

    <span class="n">pathList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElementPathList</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="n">pathList</span> <span class="o">=</span> <span class="n">pathList</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upDir</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pathList</span><span class="p">))</span>
    <span class="n">docDirName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rootDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">modelDiagramDir</span><span class="p">)</span>
    <span class="n">dirName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">docDirName</span><span class="p">,</span> <span class="o">*</span><span class="n">pathList</span><span class="p">)</span>
    <span class="n">pkgName</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">name</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dirName</span><span class="p">):</span>
      <span class="k">raise</span> <span class="n">MemopsError</span><span class="p">(</span><span class="s1">&#39;Directory &quot;</span><span class="si">%s</span><span class="s1">&quot; does not exist&#39;</span> <span class="o">%</span> <span class="n">dirName</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">tag</span> <span class="o">==</span> <span class="n">pkgName</span><span class="p">:</span>
      <span class="n">name</span> <span class="o">=</span> <span class="n">tag</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">name</span> <span class="o">=</span> <span class="n">pkgName</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">tag</span>
    <span class="n">fileName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">dirName</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementComment</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramElementHeader</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramLeftBar</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">topPath</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;Package: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">package</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">(),</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getElemDocString</span><span class="p">(</span><span class="n">package</span><span class="p">))</span>

    <span class="c1"># add menu for other diagrams</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">diagramTags</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartParagraph</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartDiv</span><span class="p">(</span><span class="n">_class</span> <span class="o">=</span> <span class="s1">&#39;topbanner&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Class diagrams: { &#39;</span><span class="p">)</span>

      <span class="n">tt</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="k">for</span> <span class="n">ss</span> <span class="ow">in</span> <span class="n">diagramTags</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ss</span> <span class="o">==</span> <span class="n">pkgName</span><span class="p">:</span>
          <span class="n">name2</span> <span class="o">=</span> <span class="n">ss</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">name2</span> <span class="o">=</span> <span class="n">pkgName</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">ss</span>
        <span class="n">href</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tt</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39; | &#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ss</span> <span class="o">==</span> <span class="n">tag</span><span class="p">:</span>
          <span class="n">tt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStyleString</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">tt</span> <span class="o">=</span> <span class="n">ss</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">href</span><span class="p">,</span> <span class="n">tt</span><span class="p">)</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;}&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndDiv</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndParagraph</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCenter</span><span class="p">()</span>

    <span class="c1"># details diagram:</span>
    <span class="n">dDiagFile</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">package</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">),</span>
                         <span class="s1">&#39;__&#39;</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">detailDiagExt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagFileExt</span><span class="p">))</span>
   <span class="c1"># dDiagFile = Path.joinPath(self.diagImgDir,</span>
   <span class="c1">#   package.qualifiedName().replace(&#39;.&#39;, &#39;_&#39;) + &#39;__&#39; + tag + self.detailDiagExt + self.diagFileExt)</span>

    <span class="n">file</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">docDirName</span><span class="p">,</span> <span class="n">dDiagFile</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
      <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="n">dDiagFile</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s2">&quot;javascript:wopn(&#39;</span><span class="si">%s</span><span class="s2">&#39;)&quot;</span> <span class="o">%</span> <span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getItalicString</span><span class="p">(</span><span class="s1">&#39;click here to see the detailed diagram&#39;</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;WARNING2: File &quot;</span><span class="si">%s</span><span class="s1">&quot; does not exist&#39;</span> <span class="o">%</span> <span class="n">file</span><span class="p">)</span>
   
    <span class="c1"># normal diagram</span>
    <span class="c1"># dDiagFile = Path.joinPath(self.diagImgDir,</span>
    <span class="c1">#  package.qualifiedName().replace(&#39;.&#39;, &#39;_&#39;) + &#39;__&#39; + tag + self.diagFileExt)</span>
    <span class="n">dDiagFile</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;__&#39;</span> <span class="o">+</span> <span class="n">tag</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagFileExt</span>

    <span class="n">file</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">docDirName</span><span class="p">,</span> <span class="n">dDiagFile</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
      <span class="n">src</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="n">dDiagFile</span><span class="p">)</span>
      <span class="n">alt</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span> <span class="o">+</span> <span class="n">tag</span> <span class="o">+</span> <span class="s1">&#39; class diagram&#39;</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getImageString</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">alt</span><span class="o">=</span><span class="n">alt</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;WARNING3: File &quot;</span><span class="si">%s</span><span class="s1">&quot; does not exist&#39;</span> <span class="o">%</span> <span class="n">file</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCenter</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span></div>
    
  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeDiagramHelp"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeDiagramHelp">[docs]</a>  <span class="k">def</span> <span class="nf">writeDiagramHelp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="n">docDirName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rootDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">modelDiagramDir</span><span class="p">)</span>
    <span class="n">fileName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">docDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">helpPrefix</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeComment</span><span class="p">(</span><span class="s1">&#39;Help&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramElementHeader</span><span class="p">(</span><span class="n">special</span><span class="o">=</span><span class="s1">&#39;Help&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>

    <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upDir</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># HACK for Help and License</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramLeftBar</span><span class="p">(</span><span class="n">topPath</span><span class="o">=</span><span class="n">topPath</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramHelpContent</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeDiagramLicense"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeDiagramLicense">[docs]</a>  <span class="k">def</span> <span class="nf">writeDiagramLicense</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="n">docDirName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rootDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">modelDiagramDir</span><span class="p">)</span>
    <span class="n">fileName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">docDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">licensePrefix</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeComment</span><span class="p">(</span><span class="s1">&#39;License&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramElementHeader</span><span class="p">(</span><span class="n">special</span><span class="o">=</span><span class="s1">&#39;License&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>

    <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upDir</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># HACK for Help and License</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramLeftBar</span><span class="p">(</span><span class="n">topPath</span><span class="o">=</span><span class="n">topPath</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeGnuLicense</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeDiagramLeftBar"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeDiagramLeftBar">[docs]</a>  <span class="k">def</span> <span class="nf">writeDiagramLeftBar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">topPath</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; write bar at left for diagram pages</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartDiv</span><span class="p">(</span><span class="n">_class</span><span class="o">=</span><span class="s1">&#39;leftbanner&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">130</span><span class="p">)</span>

    <span class="n">firstTime</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">for</span> <span class="n">pp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagramOrderedPackages</span><span class="p">:</span>

      <span class="k">if</span> <span class="n">pp</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">name</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Diagram Home&#39;</span>

      <span class="k">if</span> <span class="n">pp</span> <span class="ow">is</span> <span class="n">package</span><span class="p">:</span>
        <span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStyleString</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>

      <span class="k">if</span> <span class="n">pp</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">:</span>
        <span class="c1"># branch package</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">firstTime</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">_class</span><span class="o">=</span><span class="s1">&#39;space&#39;</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

        <span class="n">pathList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElementPathList</span><span class="p">(</span><span class="n">pp</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">pp</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
          <span class="n">pathList</span> <span class="o">=</span> <span class="n">pathList</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">dirname</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="o">*</span><span class="n">pathList</span><span class="p">)</span>
        <span class="n">href</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">dirname</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">href</span><span class="p">,</span> <span class="n">label</span><span class="p">),</span> <span class="n">colspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="k">else</span><span class="p">:</span>
        <span class="c1"># leaf package</span>

        <span class="n">pathList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElementPathList</span><span class="p">(</span><span class="n">pp</span><span class="p">)</span>
        <span class="n">pathList</span> <span class="o">=</span> <span class="n">pathList</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">dirname</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="o">*</span><span class="n">pathList</span><span class="p">)</span>
        <span class="n">href</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">dirname</span><span class="p">,</span>  <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">pp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">))</span>

        <span class="n">pkgGroup</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">taggedValues</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;packageGroup&#39;</span><span class="p">,</span><span class="s1">&#39;core&#39;</span><span class="p">)</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="n">pkgGroupData</span><span class="p">[</span><span class="n">pkgGroup</span><span class="p">][</span><span class="s1">&#39;htmlClass&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">(),</span> <span class="n">_class</span><span class="o">=</span><span class="n">ss</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">href</span><span class="p">,</span> <span class="n">label</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="n">firstTime</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndDiv</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span></div>
 
  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writePackageGuid"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writePackageGuid">[docs]</a>  <span class="k">def</span> <span class="nf">writePackageGuid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">):</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeHorizontalLine</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Package guid:&#39;</span><span class="p">)))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">package</span><span class="o">.</span><span class="n">guid</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeClassDocumentation"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeClassDocumentation">[docs]</a>  <span class="k">def</span> <span class="nf">writeClassDocumentation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clazz</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">):</span>

    <span class="n">fileName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getObjDocFileName</span><span class="p">(</span><span class="n">clazz</span><span class="p">)</span>
    <span class="n">directory</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">splitPath</span><span class="p">(</span><span class="n">fileName</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">createDir</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;CCPN </span><span class="si">%s</span><span class="s1"> Class: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apiName</span><span class="p">,</span> <span class="n">clazz</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementHeader</span><span class="p">(</span><span class="n">clazz</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeClass</span><span class="p">(</span><span class="n">clazz</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">(</span><span class="n">clazz</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span>

    <span class="c1"># write related files</span>
    <span class="n">ll</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="n">attributes</span> <span class="o">+</span> <span class="n">clazz</span><span class="o">.</span><span class="n">roles</span>
    <span class="n">ll</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">ll</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>

    <span class="n">ll</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeAttrDocumentation</span><span class="p">(</span><span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">ll</span> <span class="o">=</span> <span class="p">[</span> <span class="n">op</span> <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">clazz</span><span class="o">.</span><span class="n">operations</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">methodHasOwnPage</span><span class="p">(</span><span class="n">op</span><span class="p">)</span> <span class="p">]</span>
    <span class="n">ll</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">ll</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>

    <span class="n">ll</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeMethodDocumentation</span><span class="p">(</span><span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeDataObjTypeDocumentation"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeDataObjTypeDocumentation">[docs]</a>  <span class="k">def</span> <span class="nf">writeDataObjTypeDocumentation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataObjType</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">):</span>

    <span class="n">fileName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getObjDocFileName</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">)</span>
    <span class="n">directory</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">splitPath</span><span class="p">(</span><span class="n">fileName</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">createDir</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;CCPN </span><span class="si">%s</span><span class="s1"> Data ObjType: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apiName</span><span class="p">,</span> <span class="n">dataObjType</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementHeader</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDataObjType</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span>

    <span class="c1"># write related files</span>
    <span class="n">ll</span> <span class="o">=</span> <span class="n">dataObjType</span><span class="o">.</span><span class="n">attributes</span>
    <span class="n">ll</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">ll</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>

    <span class="n">ll</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeAttrDocumentation</span><span class="p">(</span><span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">ll</span> <span class="o">=</span> <span class="p">[</span> <span class="n">op</span> <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">dataObjType</span><span class="o">.</span><span class="n">operations</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">methodHasOwnPage</span><span class="p">(</span><span class="n">op</span><span class="p">)</span> <span class="p">]</span>
    <span class="n">ll</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">ll</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>

    <span class="n">ll</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeMethodDocumentation</span><span class="p">(</span><span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">ll</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeDataTypeDocumentation"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeDataTypeDocumentation">[docs]</a>  <span class="k">def</span> <span class="nf">writeDataTypeDocumentation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataType</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">):</span>

    <span class="n">fileName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getObjDocFileName</span><span class="p">(</span><span class="n">dataType</span><span class="p">)</span>
    <span class="n">directory</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">splitPath</span><span class="p">(</span><span class="n">fileName</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">createDir</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;CCPN </span><span class="si">%s</span><span class="s1"> Data Type: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apiName</span><span class="p">,</span> <span class="n">dataType</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementHeader</span><span class="p">(</span><span class="n">dataType</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDataType</span><span class="p">(</span><span class="n">dataType</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">(</span><span class="n">dataType</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

  <span class="c1"># previously called writeElemDocumentation</span>
<div class="viewcode-block" id="ApiDocGen.writeAttrDocumentation"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeAttrDocumentation">[docs]</a>  <span class="k">def</span> <span class="nf">writeAttrDocumentation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">):</span>

    <span class="n">fileName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getObjDocFileName</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="c1">#print &#39;writeElemDocumentation&#39;, elem.qualifiedName(), fileName</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;CCPN </span><span class="si">%s</span><span class="s1"> Attribute: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apiName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImportName</span><span class="p">(</span><span class="n">elem</span><span class="p">))</span>

    <span class="c1">##self.writeElementHeader(elem, title, prev, foll, attributeLetter=elem.name[0].upper())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementHeader</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeAttributePage</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

  <span class="c1"># previously called writeOpDocumentation</span>
<div class="viewcode-block" id="ApiDocGen.writeMethodDocumentation"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeMethodDocumentation">[docs]</a>  <span class="k">def</span> <span class="nf">writeMethodDocumentation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">):</span>

    <span class="n">fileName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getObjDocFileName</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="c1">#print &#39;writeElemDocumentation&#39;, elem.qualifiedName(), fileName</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">openFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;CCPN </span><span class="si">%s</span><span class="s1"> Method: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apiName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImportName</span><span class="p">(</span><span class="n">elem</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeElementHeader</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeMethodPage</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeObjectFooter</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">closeFile</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeClass"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeClass">[docs]</a>  <span class="k">def</span> <span class="nf">writeClass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clazz</span><span class="p">):</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">()</span>

    <span class="c1"># write page heading</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writePageHeading</span><span class="p">(</span><span class="n">clazz</span><span class="p">,</span> <span class="s1">&#39;Class&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">clazz</span><span class="o">.</span><span class="n">isAbstract</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEmphasisString</span><span class="p">(</span><span class="s1">&#39;Abstract Class&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>

    <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span> <span class="ow">in</span> <span class="n">clazz</span><span class="o">.</span><span class="n">constructorCodeStubs</span> <span class="ow">or</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span> <span class="ow">in</span> <span class="n">clazz</span><span class="o">.</span><span class="n">postConstructorCodeStubs</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEmphasisString</span><span class="p">(</span><span class="s1">&#39;The </span><span class="si">%s</span><span class="s1"> constructor includes non-standard actions.&#39;</span> <span class="o">%</span> <span class="n">clazz</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span> <span class="ow">in</span> <span class="n">clazz</span><span class="o">.</span><span class="n">destructorCodeStubs</span> <span class="ow">or</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span> <span class="ow">in</span> <span class="n">clazz</span><span class="o">.</span><span class="n">postDestructorCodeStubs</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEmphasisString</span><span class="p">(</span><span class="s1">&#39;The </span><span class="si">%s</span><span class="s1"> destructor includes non-standard actions.&#39;</span> <span class="o">%</span> <span class="n">clazz</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="c1"># write class documentation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writePageDocString</span><span class="p">(</span><span class="n">clazz</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;20%&#39;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Attributes&#39;</span><span class="p">,</span> <span class="s1">&#39;Attributes&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Link Attributes&#39;</span><span class="p">,</span> <span class="s1">&#39;Link Attributes&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Attribute Methods&#39;</span><span class="p">,</span> <span class="s1">&#39;Attribute Methods&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Link Attribute Methods&#39;</span><span class="p">,</span> <span class="s1">&#39;Link Attribute Methods&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Class Methods&#39;</span><span class="p">,</span> <span class="s1">&#39;Class Methods&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Factory Methods&#39;</span><span class="p">,</span> <span class="s1">&#39;Factory Methods&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Other Methods&#39;</span><span class="p">,</span> <span class="s1">&#39;Other Methods&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Appendix&#39;</span><span class="p">,</span> <span class="s1">&#39;Appendix&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

    <span class="c1"># Inheritance</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeInheritanceDiagram</span><span class="p">(</span><span class="n">clazz</span><span class="p">)</span>

    <span class="c1"># Details</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;Details:&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Parent</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Parent:&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getParentString</span><span class="p">(</span><span class="n">clazz</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Main key</span>
    <span class="k">if</span> <span class="n">clazz</span><span class="o">.</span><span class="n">keyNames</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEmphasisString</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">clazz</span><span class="o">.</span><span class="n">keyNames</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;n/a&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Main key:&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Mandatory Attributes</span>
    <span class="n">mandatoryElements</span><span class="p">,</span> <span class="n">hasOptionals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMandatoryElements</span><span class="p">(</span><span class="n">clazz</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">mandatoryElements</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEmphasisString</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mandatoryElements</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Mandatory Attributes:&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Partitions children</span>
    <span class="c1"># for now only if true</span>
    <span class="k">if</span> <span class="n">clazz</span><span class="o">.</span><span class="n">partitionsChildren</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Partitions Children:&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">clazz</span><span class="o">.</span><span class="n">partitionsChildren</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Known Subclasses</span>
    <span class="n">subtypes</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="n">subtypes</span>
    <span class="k">if</span> <span class="n">subtypes</span><span class="p">:</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">clazz</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">subtypes</span><span class="p">]</span>
      <span class="n">ll</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
      <span class="n">links</span> <span class="o">=</span> <span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span><span class="p">),</span> <span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="ow">in</span> <span class="n">ll</span> <span class="p">]</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">links</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Known Subclasses:&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Children</span>
    <span class="n">childRoles</span> <span class="o">=</span> <span class="p">[</span> <span class="n">role</span> <span class="k">for</span> <span class="n">role</span> <span class="ow">in</span> <span class="n">clazz</span><span class="o">.</span><span class="n">getAllRoles</span><span class="p">()</span> <span class="k">if</span> <span class="n">role</span><span class="o">.</span><span class="n">hierarchy</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">child_hierarchy</span> <span class="p">]</span>
    <span class="k">if</span> <span class="n">childRoles</span><span class="p">:</span>
      <span class="n">childRoles</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">childRoles</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Children:&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">childRole</span> <span class="ow">in</span> <span class="n">childRoles</span><span class="p">:</span>
        <span class="n">child</span> <span class="o">=</span> <span class="n">childRole</span><span class="o">.</span><span class="n">valueType</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;link&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getEmphasisString</span><span class="p">(</span><span class="n">childRole</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
        <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">clazz</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;to</span><span class="si">%s</span><span class="s1">class&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span><span class="p">),</span> <span class="n">name</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Children:&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Constructor</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">clazz</span><span class="o">.</span><span class="n">isAbstract</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeConstructorRows</span><span class="p">(</span><span class="n">clazz</span><span class="p">,</span> <span class="n">mandatoryElements</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span>

    <span class="c1"># Attributes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeAttributeTable</span><span class="p">(</span><span class="n">clazz</span><span class="p">,</span> <span class="s1">&#39;attrs&#39;</span><span class="p">)</span>

    <span class="c1"># Link attributes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeAttributeTable</span><span class="p">(</span><span class="n">clazz</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">)</span>

    <span class="c1"># Methods</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeMethodTables</span><span class="p">(</span><span class="n">clazz</span><span class="p">)</span>

    <span class="c1"># Appendix</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeAppendix</span><span class="p">(</span><span class="n">clazz</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeDataObjType"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeDataObjType">[docs]</a>  <span class="k">def</span> <span class="nf">writeDataObjType</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataObjType</span><span class="p">):</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">()</span>

    <span class="c1"># write page heading</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writePageHeading</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">,</span> <span class="s1">&#39;Data Obj Type&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">dataObjType</span><span class="o">.</span><span class="n">isAbstract</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEmphasisString</span><span class="p">(</span><span class="s1">&#39;Abstract Data Obj Type&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>

    <span class="c1"># write data obj type documentation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writePageDocString</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;20%&#39;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Attributes&#39;</span><span class="p">,</span> <span class="s1">&#39;Attributes&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Attribute Methods&#39;</span><span class="p">,</span> <span class="s1">&#39;Attribute Methods&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Class Methods&#39;</span><span class="p">,</span> <span class="s1">&#39;Class Methods&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#Other Methods&#39;</span><span class="p">,</span> <span class="s1">&#39;Other Methods&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

    <span class="c1"># Inheritance</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeInheritanceDiagram</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">)</span>

    <span class="c1"># Details</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;Details:&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># isChangeable</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;isChangeable:&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">dataObjType</span><span class="o">.</span><span class="n">isChangeable</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Mandatory Attributes</span>
    <span class="n">mandatoryElements</span><span class="p">,</span> <span class="n">hasOptionals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMandatoryElements</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">mandatoryElements</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEmphasisString</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mandatoryElements</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Mandatory Attributes:&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Known Subtypes</span>
    <span class="n">subtypes</span> <span class="o">=</span> <span class="n">dataObjType</span><span class="o">.</span><span class="n">subtypes</span>
    <span class="k">if</span> <span class="n">subtypes</span><span class="p">:</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">subtypes</span><span class="p">]</span>
      <span class="n">ll</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
      <span class="n">links</span> <span class="o">=</span> <span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span><span class="p">),</span> <span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="ow">in</span> <span class="n">ll</span> <span class="p">]</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">links</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Known Subtypes:&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Constructor</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">dataObjType</span><span class="o">.</span><span class="n">isAbstract</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeConstructorRows</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">,</span> <span class="n">mandatoryElements</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span>

    <span class="c1"># Attributes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeAttributeTable</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">,</span> <span class="s1">&#39;attrs&#39;</span><span class="p">)</span>

    <span class="c1"># Methods</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeMethodTables</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">)</span>

    <span class="c1"># Appendix</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeAppendix</span><span class="p">(</span><span class="n">dataObjType</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeDataType"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeDataType">[docs]</a>  <span class="k">def</span> <span class="nf">writeDataType</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataType</span><span class="p">):</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

    <span class="c1"># write page heading</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writePageHeading</span><span class="p">(</span><span class="n">dataType</span><span class="p">,</span> <span class="s1">&#39;Data Type&#39;</span><span class="p">)</span>

    <span class="n">typeCode</span> <span class="o">=</span> <span class="n">dataType</span><span class="o">.</span><span class="n">typeCodes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">typeCodeKey</span><span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Implementation</span><span class="si">%s</span><span class="s1">Type:&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">typeCode</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="n">package</span> <span class="o">=</span> <span class="n">dataType</span><span class="o">.</span><span class="n">container</span>
    <span class="n">supertypes</span> <span class="o">=</span> <span class="n">dataType</span><span class="o">.</span><span class="n">supertypes</span>
    <span class="k">if</span> <span class="n">supertypes</span><span class="p">:</span>
      <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">supertype</span> <span class="ow">in</span> <span class="n">supertypes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">supertype</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="n">package</span><span class="p">:</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">supertype</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileFromTop</span><span class="p">(</span><span class="n">supertype</span><span class="p">))</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">supertype</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">())</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tt</span><span class="p">)</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">Supertype</span><span class="si">%s</span><span class="s1">:&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">ss</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ll</span><span class="p">)))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">typeCode</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">string_code</span><span class="p">:</span>
      <span class="n">maxlength</span> <span class="o">=</span> <span class="n">dataType</span><span class="o">.</span><span class="n">length</span>
      <span class="k">if</span> <span class="n">maxlength</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">maxlength</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">infinity</span><span class="p">:</span>
        <span class="n">maxlength</span> <span class="o">=</span> <span class="s1">&#39;unlimited&#39;</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">Maximum</span><span class="si">%s</span><span class="s1">length:&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">()))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">maxlength</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">dataType</span><span class="o">.</span><span class="n">enumeration</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">dataType</span><span class="o">.</span><span class="n">isOpen</span><span class="p">:</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;Open&#39;</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="s1">&#39;Preset&#39;</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;Closed&#39;</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="s1">&#39;Permitted&#39;</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s%s</span><span class="s1">Enumeration:&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">ss</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">()))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s%s</span><span class="s1">Values: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">tt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">(),</span> <span class="n">dataType</span><span class="o">.</span><span class="n">enumeration</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="n">constraints</span> <span class="o">=</span> <span class="n">dataType</span><span class="o">.</span><span class="n">getAllConstraints</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">constraints</span><span class="p">:</span>
      <span class="n">constraints</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">constraints</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">constraint</span> <span class="ow">in</span> <span class="n">constraints</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">Constraint</span><span class="si">%s</span><span class="s1">name:&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">constraint</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> code&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">constraint</span><span class="o">.</span><span class="n">codeStubs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">Constraints:&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">())</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">None&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">())</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeAttributePage"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeAttributePage">[docs]</a>  <span class="k">def</span> <span class="nf">writeAttributePage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaAttribute</span><span class="p">):</span>
      <span class="n">elemType</span> <span class="o">=</span> <span class="s1">&#39;Attribute&#39;</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">elemType</span> <span class="o">=</span> <span class="s1">&#39;Link Attribute&#39;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writePageHeading</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">elemType</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaRole</span><span class="p">):</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">isAbstract</span><span class="p">:</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;Abstract&#39;</span><span class="p">)</span>

      <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">hierarchy</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">parent_hierarchy</span><span class="p">:</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Parent&quot;</span><span class="p">)</span>
      <span class="k">elif</span> <span class="n">elem</span><span class="o">.</span><span class="n">hierarchy</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">child_hierarchy</span><span class="p">:</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Child&quot;</span><span class="p">)</span>

      <span class="k">if</span> <span class="n">ll</span><span class="p">:</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;Link&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEmphasisString</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ll</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>

    <span class="c1"># write attribute documentation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writePageDocString</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>

    <span class="c1"># write details</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># guid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;guid:&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">guid</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="n">valueType</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">valueType</span>
    <span class="n">haveImplType</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">valueType</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaDataType</span><span class="p">):</span>
      <span class="n">typeCode</span> <span class="o">=</span> <span class="n">valueType</span><span class="o">.</span><span class="n">typeCodes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">typeCodeKey</span><span class="p">]</span>
      <span class="k">if</span> <span class="n">valueType</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">typeCode</span><span class="p">:</span>
        <span class="n">haveImplType</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># Model Type (or just Type)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">haveImplType</span><span class="p">:</span>
      <span class="n">tt</span> <span class="o">=</span> <span class="s1">&#39;Model &#39;</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">tt</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">Type:&#39;</span> <span class="o">%</span> <span class="n">tt</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getElemTypeString</span><span class="p">(</span><span class="n">elem</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Implementation Type</span>
    <span class="k">if</span> <span class="n">haveImplType</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Implementation Type:&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">typeCode</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># multiplicity, changeability, isDerived, isAutomatic, isImplementation, isImplicit, isAbstract, scope</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">tt</span><span class="p">)</span> <span class="ow">in</span> <span class="p">((</span><span class="s1">&#39;Multiplicity&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMultiplicity</span><span class="p">(</span><span class="n">elem</span><span class="p">)),</span>
                     <span class="p">(</span><span class="s1">&#39;Changeability&#39;</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">changeability</span><span class="p">),</span>
                     <span class="p">(</span><span class="s1">&#39;isDerived&#39;</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">isDerived</span><span class="p">),</span>
                     <span class="p">(</span><span class="s1">&#39;isAutomatic&#39;</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">isAutomatic</span><span class="p">),</span>
                     <span class="p">(</span><span class="s1">&#39;isImplementation&#39;</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">isImplementation</span><span class="p">),</span>
                     <span class="p">(</span><span class="s1">&#39;isImplicit&#39;</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">isImplicit</span><span class="p">),</span>
                     <span class="p">(</span><span class="s1">&#39;isAbstract&#39;</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">isAbstract</span><span class="p">),</span>
                     <span class="p">(</span><span class="s1">&#39;Scope&#39;</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">scope</span><span class="p">)):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">:&#39;</span> <span class="o">%</span> <span class="n">ss</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">tt</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># isOrdered, isUnique</span>
    <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">hicard</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
      <span class="k">for</span> <span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">tt</span><span class="p">)</span> <span class="ow">in</span> <span class="p">((</span><span class="s1">&#39;isOrdered&#39;</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">isOrdered</span><span class="p">),</span>
                       <span class="p">(</span><span class="s1">&#39;isUnique&#39;</span><span class="p">,</span> <span class="n">elem</span><span class="o">.</span><span class="n">isUnique</span><span class="p">)):</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">tt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">:&#39;</span> <span class="o">%</span> <span class="n">ss</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">tt</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># default value</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaAttribute</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Default Value:&#39;</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">hicard</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">defaultValue</span><span class="p">:</span>
          <span class="n">dd</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">defaultValue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">dd</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">dd</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">defaultValue</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">normaliseString</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">dd</span><span class="p">)))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="n">constraints</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">getAllConstraints</span><span class="p">()</span>
      <span class="k">if</span> <span class="n">constraints</span><span class="p">:</span>
        <span class="n">constraints</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">constraints</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">constraint</span> <span class="ow">in</span> <span class="n">constraints</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">Constraint name:&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">())</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">constraint</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> code&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="n">constraint</span><span class="o">.</span><span class="n">codeStubs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">)</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">normaliseString</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Constraints:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="k">else</span><span class="p">:</span> <span class="c1"># isinstance(elem,MetaModel.MetaRole)</span>
      <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">hierarchy</span> <span class="o">!=</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">no_hierarchy</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Object hierarchy:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="n">otherRole</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">otherRole</span>
      <span class="k">if</span> <span class="n">otherRole</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Inverse role:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="p">,</span> <span class="n">otherRole</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Inverse role:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="n">name</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="n">constraints</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">getAllConstraints</span><span class="p">()</span>
      <span class="k">if</span> <span class="n">constraints</span><span class="p">:</span>
        <span class="n">constraints</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">constraints</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">constraint</span> <span class="ow">in</span> <span class="n">constraints</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">Constraint name:&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">())</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">constraint</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> code&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="n">constraint</span><span class="o">.</span><span class="n">codeStubs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">)</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">normaliseString</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">otherRole</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">otherRole</span><span class="o">.</span><span class="n">getAllConstraints</span><span class="p">():</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Constraints:&#39;</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;See also Inverse Role&#39;</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="k">elif</span> <span class="n">otherRole</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">otherRole</span><span class="o">.</span><span class="n">getAllConstraints</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Constraints:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;See Inverse Role&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Constraints:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>

    <span class="c1"># add tagged values</span>
    <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">taggedValues</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">items</span><span class="p">:</span>
      <span class="n">items</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Tag&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Value&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">=</span> <span class="n">item</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeHorizontalLine</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;Methods&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;elemtable&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Method&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Return&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Parameters&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Comment&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="n">nonStdString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Non-std.&#39;</span><span class="p">)</span>
    <span class="c1"># TBD: below should maybe be Java specific but in current</span>
    <span class="c1"># data model no methods end up using this in any case</span>
    <span class="n">classString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Static&#39;</span><span class="p">)</span>

    <span class="n">methods</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElemMethods</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">methodHasOwnPage</span><span class="p">(</span><span class="n">method</span><span class="p">):</span>
        <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getFuncname</span><span class="p">(</span><span class="n">method</span><span class="p">))</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getFuncname</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>

      <span class="c1"># Return</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getMethodReturn</span><span class="p">(</span><span class="n">method</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>

      <span class="c1"># Parameters</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getMethodParameters</span><span class="p">(</span><span class="n">method</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>

      <span class="c1"># Comment</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">scope</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">classifier_level</span><span class="p">:</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">classString</span><span class="p">)</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="n">method</span><span class="o">.</span><span class="n">isImplicit</span><span class="p">:</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nonStdString</span><span class="p">)</span>

      <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">()</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeMethodPage"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeMethodPage">[docs]</a>  <span class="k">def</span> <span class="nf">writeMethodPage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writePageHeading</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="s1">&#39;Method&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">isAbstract</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEmphasisString</span><span class="p">(</span><span class="s1">&#39;Abstract Method&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>

    <span class="c1"># write operation documentation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writePageDocString</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>

    <span class="c1"># guid, isQuery, isAbstract, scope</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ss</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;guid&#39;</span><span class="p">,</span> <span class="s1">&#39;OpType&#39;</span><span class="p">,</span> <span class="s1">&#39;OpSubType&#39;</span><span class="p">,</span> <span class="s1">&#39;isQuery&#39;</span><span class="p">,</span> <span class="s1">&#39;isAbstract&#39;</span><span class="p">,</span> <span class="s1">&#39;Scope&#39;</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">:&#39;</span> <span class="o">%</span> <span class="n">ss</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">lowerFirst</span><span class="p">(</span><span class="n">ss</span><span class="p">))))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Code</span>
    <span class="n">ss</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">codeStubs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">)</span>
    <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">normaliseString</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Code:&#39;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

  <span class="c1"># previously called writeModellerInfo</span>
<div class="viewcode-block" id="ApiDocGen.writeAppendix"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeAppendix">[docs]</a>  <span class="k">def</span> <span class="nf">writeAppendix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complexDataType</span><span class="p">):</span>

    <span class="n">toplinkString</span> <span class="o">=</span> <span class="s1">&#39;Go</span><span class="si">%s</span><span class="s1">to</span><span class="si">%s</span><span class="s1">Top&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">())</span>
    <span class="n">toplinkString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;#toplink&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStyleString</span><span class="p">(</span><span class="n">toplinkString</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;font-size:9pt&#39;</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeHorizontalLine</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeAnchorLink</span><span class="p">(</span><span class="s1">&#39;Appendix&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;Appendix&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">toplinkString</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>
 
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># isImplicit, guid</span>
    <span class="k">for</span> <span class="n">ss</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;guid&#39;</span><span class="p">,</span> <span class="s1">&#39;isImplicit&#39;</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">:&#39;</span> <span class="o">%</span> <span class="n">ss</span><span class="p">)))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">ss</span><span class="p">)))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Tagged Values</span>
    <span class="n">taggedValues</span> <span class="o">=</span> <span class="n">complexDataType</span><span class="o">.</span><span class="n">taggedValues</span>
    <span class="k">if</span> <span class="n">taggedValues</span><span class="p">:</span>
      <span class="c1">#print &#39;TAGGED VALUES&#39;, complexDataType.qualifiedName()</span>
      <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">taggedValues</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
      <span class="n">keys</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Tag&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Value&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">taggedValues</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Tagged Values:&#39;</span><span class="p">)))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">None&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">())</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Special constructor code</span>
    <span class="n">ss</span> <span class="o">=</span> <span class="p">(</span><span class="n">complexDataType</span><span class="o">.</span><span class="n">constructorCodeStubs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaClass</span><span class="p">):</span>
      <span class="n">ss</span> <span class="o">+=</span>  <span class="n">complexDataType</span><span class="o">.</span><span class="n">postConstructorCodeStubs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">ss</span><span class="p">:</span>
      <span class="c1">#print &#39;CONSTRUCTOR&#39;, complexDataType.qualifiedName()</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">normaliseString</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Special constructor code:&#39;</span><span class="p">)),</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">ss</span><span class="p">),</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Special destructor code</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaClass</span><span class="p">):</span>
      <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;destructor&#39;</span><span class="p">,</span><span class="s1">&#39;postDestructor&#39;</span><span class="p">):</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">tag</span> <span class="o">+</span> <span class="s1">&#39;CodeStubs&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ss</span><span class="p">:</span>
          <span class="c1">#print &#39;DESTRUCTOR&#39;, tag, complexDataType.qualifiedName()</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">normaliseString</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Special </span><span class="si">%s</span><span class="s1"> code:&#39;</span> <span class="o">%</span> <span class="n">tag</span><span class="p">)),</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">ss</span><span class="p">),</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="c1"># Constraints</span>
    <span class="n">constraints</span> <span class="o">=</span> <span class="n">complexDataType</span><span class="o">.</span><span class="n">getAllConstraints</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">constraints</span><span class="p">:</span>
      <span class="c1">#print &#39;CONSTRAINTS&#39;, complexDataType.qualifiedName(), len(constraints)</span>
      <span class="n">constraints</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">constraints</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">constraint</span> <span class="ow">in</span> <span class="n">constraints</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Constraint name:&#39;</span><span class="p">)),</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">constraint</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Constraint code:&#39;</span><span class="p">),</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="n">constraint</span><span class="o">.</span><span class="n">codeStubs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">)</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">normaliseString</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Constraints:&#39;</span><span class="p">)),</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">None&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">(),</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    
    <span class="c1"># Added dataType use and inward one-way links</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaClass</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Known inward one-way links:&#39;</span><span class="p">),</span> 
                     <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;Attributes using DataObjType:&#39;</span><span class="p">),</span> 
                     <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="n">valueTypeUse</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valueTypeUse</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">valueTypeUse</span><span class="p">:</span>
      <span class="n">valueTypeUse</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaModelElement</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">)</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">ee</span> <span class="ow">in</span> <span class="n">valueTypeUse</span><span class="p">:</span>
        <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">ee</span><span class="p">)</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="n">name</span><span class="p">))</span>
      <span class="n">tt</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">tt</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ll</span><span class="p">),</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writePageDocString"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writePageDocString">[docs]</a>  <span class="k">def</span> <span class="nf">writePageDocString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>

    <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElemDocString</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">doc</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartIndent</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndIndent</span><span class="p">()</span>
    <span class="c1">#elif isinstance(elem, MetaModel.MetaPackage) or isinstance(elem, MetaModel.MetaClass):</span>
    <span class="k">elif</span> <span class="n">elem</span><span class="o">.</span><span class="n">container</span> <span class="ow">and</span> <span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">documentation</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING, </span><span class="si">%s</span><span class="s2"> has no documentation&quot;</span> <span class="o">%</span> <span class="n">elem</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">())</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getDiagramFileName"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getDiagramFileName">[docs]</a>  <span class="k">def</span> <span class="nf">getDiagramFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">isAbsolute</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Get the path for the diagram documentation for given element</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">isAbsolute</span><span class="p">:</span>
      <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootDirName</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">upDir</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># diapackage is needed to establish the ink to Diagram</span>
    <span class="n">diapackage</span> <span class="o">=</span> <span class="n">elem</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">diapackage</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaPackage</span><span class="p">):</span>
      <span class="n">diapackage</span> <span class="o">=</span> <span class="n">diapackage</span><span class="o">.</span><span class="n">container</span>
  
    <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="c1"># root package</span>
      <span class="n">diapath</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modelDiagramDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexPrefix</span><span class="p">))</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaPackage</span><span class="p">)</span> <span class="ow">and</span> <span class="n">elem</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">:</span>
      <span class="c1"># branch package</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="n">diapackage</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
      <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">indexPrefix</span><span class="p">)</span>
      <span class="n">diapath</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">modelDiagramDir</span><span class="p">,</span><span class="o">*</span><span class="n">ll</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="c1"># leaf package or package content</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="n">diapackage</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
      <span class="n">diapath</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">modelDiagramDir</span><span class="p">,</span> <span class="o">*</span><span class="n">ll</span><span class="p">)</span>
  
    <span class="k">return</span> <span class="n">diapath</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

  <span class="c1">###def writeNavigatorBar(self, elem, prev = None, foll = None, special = None, upDir = 0, attributeLetter = &#39;A&#39;):</span>
<div class="viewcode-block" id="ApiDocGen.writeNavigatorBar"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeNavigatorBar">[docs]</a>  <span class="k">def</span> <span class="nf">writeNavigatorBar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">prev</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">foll</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">special</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;write javastyle navigator bar</span>
<span class="sd">  </span>
<span class="sd">    The exact look is adjusted depending on the type of elem.</span>
<span class="sd">    prev and foll are objects pointed to by the &#39;previous&#39; and &#39;foll&#39;</span>
<span class="sd">    links, and should be of appropriate type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1">## upDir is hack to get Attribute Map pages to work</span>
    <span class="c1">##self.writeCommonNavigatorBar(elem, upDir=upDir)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCommonNavigatorBar</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>

    <span class="c1">##topPath = self.pathToTop(elem, upDir=upDir)</span>
    <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">upDir</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">topDocPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="n">diapath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDiagramFileName</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">isAbsolute</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">apiFileDir</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">apiFileDir</span><span class="p">)</span>
    <span class="n">apiDocDir</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">diapath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="s1">&#39;Diagram&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">special</span> <span class="o">==</span> <span class="s1">&#39;Class Map&#39;</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStyleString</span><span class="p">(</span><span class="s1">&#39;Class Map&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">apiDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">classMapFile</span><span class="p">),</span> <span class="s1">&#39;Class Map&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">special</span> <span class="o">==</span> <span class="s1">&#39;Attribute Map&#39;</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStyleString</span><span class="p">(</span><span class="s1">&#39;Attribute Map&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="c1">## bit of a hack, assumes that will have something on A page</span>
      <span class="c1">##ff = &#39;%s.%s&#39; % (attributeLetter, self.fileSuffix)</span>
      <span class="c1">##self.writeLink(uniIo.joinPath(topPath, self.topDocDir, self.attrRoleDir, ff), &#39;Attribute Map&#39;)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">apiDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributeMapFile</span><span class="p">),</span> <span class="s1">&#39;Attribute Map&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">special</span> <span class="o">==</span> <span class="s1">&#39;Method Map&#39;</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStyleString</span><span class="p">(</span><span class="s1">&#39;Method Map&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">apiDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">methodMapFile</span><span class="p">),</span> <span class="s1">&#39;Method Map&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s2">&quot;javascript:wopn(&#39;</span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">.</span><span class="si">%s</span><span class="s2">&#39;)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">apiFileDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">helpPrefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="s1">&#39;Help&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">special</span> <span class="o">==</span> <span class="s1">&#39;License&#39;</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStyleString</span><span class="p">(</span><span class="s1">&#39;License&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s2">&quot;javascript:wopn(&#39;</span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">.</span><span class="si">%s</span><span class="s2">&#39;)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">apiFileDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">licensePrefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="s1">&#39;License&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
  
    <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="c1"># root package</span>
      <span class="k">if</span> <span class="n">special</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;Class Map&#39;</span><span class="p">,</span> <span class="s1">&#39;Attribute Map&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topApiFile</span><span class="p">),</span> <span class="s1">&#39;Home&#39;</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStyleString</span><span class="p">(</span><span class="s1">&#39;Home&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Package&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Class&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Attribute&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Method&#39;</span><span class="p">)</span>
    
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaPackage</span><span class="p">):</span>
        
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topApiFile</span><span class="p">),</span> <span class="s1">&#39;Home&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStyleString</span><span class="p">(</span><span class="s1">&#39;Package:&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writePrevNextLinks</span><span class="p">(</span><span class="n">topDocPath</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Class&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Attribute&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Method&#39;</span><span class="p">)</span>

    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">AbstractDataType</span><span class="p">):</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topApiFile</span><span class="p">),</span> <span class="s1">&#39;Home&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">fileFromTop</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="p">)),</span> <span class="s1">&#39;Package&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStyleString</span><span class="p">(</span><span class="s1">&#39;Class:&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writePrevNextLinks</span><span class="p">(</span><span class="n">topDocPath</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Attribute&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Method&#39;</span><span class="p">)</span>

    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaOperation</span><span class="p">):</span>
        
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topApiFile</span><span class="p">),</span> <span class="s1">&#39;Home&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">fileFromTop</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">container</span><span class="p">)),</span> <span class="s1">&#39;Package&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topDocPath</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">fileFromTop</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="p">)),</span> <span class="s1">&#39;Class&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Attribute&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStyleString</span><span class="p">(</span><span class="s1">&#39;Method:&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writePrevNextLinks</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
      <span class="c1"># attribute or role</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topApiFile</span><span class="p">),</span> <span class="s1">&#39;Home&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">fileFromTop</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">container</span><span class="p">)),</span> <span class="s1">&#39;Package&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">fileFromTop</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="p">)),</span> <span class="s1">&#39;Class&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStyleString</span><span class="p">(</span><span class="s1">&#39;Attribute:&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writePrevNextLinks</span><span class="p">(</span><span class="n">topDocPath</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Method&#39;</span><span class="p">)</span>
  
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndDiv</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeComment</span><span class="p">(</span><span class="s1">&#39;TOP BANNER END&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span></div>
  
  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeDiagramNavigatorBar"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeDiagramNavigatorBar">[docs]</a>  <span class="k">def</span> <span class="nf">writeDiagramNavigatorBar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">special</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;write javastyle navigator bar for diagrams</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCommonNavigatorBar</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">isDiagram</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">package</span><span class="p">:</span>
      <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">upDir</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upDir</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># HACK for Help and License</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topApiFile</span><span class="p">),</span> <span class="s1">&#39;API Home&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">classMapFile</span><span class="p">),</span> <span class="s1">&#39;Class Map&#39;</span><span class="p">)</span>

    <span class="n">apiFileDir</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">apiFileDir</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
    <span class="c1"># tt = Path.joinPath(topPath, self.modelDiagramDir)</span>
    <span class="k">if</span> <span class="n">special</span> <span class="o">==</span> <span class="s1">&#39;Help&#39;</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStyleString</span><span class="p">(</span><span class="s1">&#39;Help&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">apiFileDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">helpPrefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="s1">&#39;Help&#39;</span><span class="p">)</span>
      <span class="c1"># self.writeLink(&#39;%s/%s.%s&#39; % (tt, self.helpPrefix, self.fileSuffix), &#39;Help&#39;)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">special</span> <span class="o">==</span> <span class="s1">&#39;License&#39;</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStyleString</span><span class="p">(</span><span class="s1">&#39;License&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;underover&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">apiFileDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">licensePrefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="s1">&#39;License&#39;</span><span class="p">)</span>
      <span class="c1"># self.writeLink(&#39;%s/%s.%s&#39; % (tt, self.licensePrefix, self.fileSuffix), &#39;License&#39;)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndDiv</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeComment</span><span class="p">(</span><span class="s1">&#39;TOP BANNER END&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span></div>
  
  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

  <span class="c1">###def writeCommonNavigatorBar(self, elem = None, isDiagram = False, upDir = 0):</span>
<div class="viewcode-block" id="ApiDocGen.writeCommonNavigatorBar"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeCommonNavigatorBar">[docs]</a>  <span class="k">def</span> <span class="nf">writeCommonNavigatorBar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">isDiagram</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>

    <span class="c1">## upDir is hack to get Attribute Map pages to work</span>

    <span class="k">if</span> <span class="n">elem</span><span class="p">:</span>
      <span class="c1">##topPath = self.pathToTop(elem, isDiagram=isDiagram, upDir=upDir)</span>
      <span class="c1"># topPath = self.pathToTop(elem, isDiagram=isDiagram, upDir=2)</span>
      <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">upDir</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># elif isDiagram:</span>
    <span class="c1">#   topPath = self.upDir(1)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upDir</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># HACK for Help and License</span>
  
    <span class="n">dataModelVersion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">modelPortal</span><span class="o">.</span><span class="n">dataModelVersion</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">bgcolor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color1</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">()</span>
    <span class="n">src</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/CCPN_Logo_200_x.gif&#39;</span><span class="o">%</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">imageDir</span><span class="p">)</span>
    <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImageString</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;toplink&#39;</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">alt</span><span class="o">=</span><span class="s1">&#39;CCPN&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;http://www.ccpn.ac.uk/&#39;</span><span class="p">,</span> <span class="n">ss</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;mainlogo&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeNonBreakingSpaces</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Data Model version </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">dataModelVersion</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="n">tt</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">apiFileDir</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;80%&#39;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeComment</span><span class="p">(</span><span class="s1">&#39;TOP BANNER BEGIN&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartDiv</span><span class="p">(</span><span class="n">_class</span><span class="o">=</span><span class="s1">&#39;topbanner&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;80%&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s2">&quot;javascript:wopn(&#39;</span><span class="si">%s</span><span class="s2">/acknowledgements.html&#39;)&quot;</span> <span class="o">%</span> <span class="n">tt</span><span class="p">,</span> <span class="s1">&#39;Acknowledgements&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeAttributeTable"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeAttributeTable">[docs]</a>  <span class="k">def</span> <span class="nf">writeAttributeTable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clazz</span><span class="p">,</span> <span class="n">kind</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="s1">&#39;attrs&#39;</span><span class="p">:</span>
      <span class="n">anchor</span> <span class="o">=</span> <span class="s1">&#39;Attributes&#39;</span>
      <span class="n">elems</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="n">getAllAttributes</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">anchor</span> <span class="o">=</span> <span class="s1">&#39;Link Attributes&#39;</span>
      <span class="n">elems</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="n">getAllRoles</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">clazz</span><span class="o">.</span><span class="n">container</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">impPackage</span><span class="p">:</span>
      <span class="c1"># only list details for those in same class</span>
      <span class="n">title</span> <span class="o">=</span> <span class="n">anchor</span>
      <span class="n">oneelems</span> <span class="o">=</span> <span class="p">[</span> <span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">elems</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">container</span> <span class="o">==</span> <span class="n">clazz</span> <span class="p">]</span>
      <span class="n">inhelems</span> <span class="o">=</span> <span class="p">[</span> <span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">elems</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">container</span> <span class="o">!=</span> <span class="n">clazz</span> <span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="c1"># only list details for those in same package</span>
      <span class="n">title</span> <span class="o">=</span> <span class="n">anchor</span> <span class="o">+</span> <span class="s1">&#39; (in package)&#39;</span>
      <span class="c1"># note: these names not appropriate in this context</span>
      <span class="n">oneelems</span> <span class="o">=</span> <span class="p">[</span> <span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">elems</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">container</span> <span class="o">==</span> <span class="n">clazz</span><span class="o">.</span><span class="n">container</span> <span class="p">]</span>
      <span class="n">inhelems</span> <span class="o">=</span> <span class="p">[</span> <span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">elems</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">container</span> <span class="o">!=</span> <span class="n">clazz</span><span class="o">.</span><span class="n">container</span> <span class="p">]</span>

    <span class="n">oneelems</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">oneelems</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
    <span class="n">inhelems</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">inhelems</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeHorizontalLine</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

    <span class="c1"># title</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeAnchorLink</span><span class="p">(</span><span class="n">anchor</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="n">tt</span> <span class="o">=</span> <span class="s1">&#39;Go</span><span class="si">%s</span><span class="s1">to</span><span class="si">%s</span><span class="s1">Top&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartCell</span><span class="p">(</span><span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeLink</span><span class="p">(</span><span class="s1">&#39;#toplink&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStyleString</span><span class="p">(</span><span class="n">tt</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;font-size:9pt&#39;</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndCell</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="c1"># direct attributes</span>

    <span class="k">if</span> <span class="n">oneelems</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;elemtable&#39;</span><span class="p">)</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Attribute&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Type&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Multiplicity&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Description&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="k">for</span> <span class="n">ee</span> <span class="ow">in</span> <span class="n">oneelems</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ee</span><span class="o">.</span><span class="n">isDerived</span><span class="p">:</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEmphasisString</span><span class="p">(</span><span class="s1">&#39;Derived.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">())</span>
        <span class="k">elif</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ee</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaRole</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">ee</span><span class="o">.</span><span class="n">hierarchy</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">parent_hierarchy</span><span class="p">):</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEmphasisString</span><span class="p">(</span><span class="s1">&#39;(Parent link).</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">())</span>
        <span class="k">elif</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ee</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaRole</span><span class="p">)</span>
              <span class="ow">and</span> <span class="n">ee</span><span class="o">.</span><span class="n">hierarchy</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">child_hierarchy</span><span class="p">):</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEmphasisString</span><span class="p">(</span><span class="s1">&#39;(Child link).</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="n">ss</span> <span class="o">+</span> <span class="n">ee</span><span class="o">.</span><span class="n">documentation</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">()</span>

        <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">clazz</span><span class="p">,</span> <span class="n">ee</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="n">ee</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getElemTypeString</span><span class="p">(</span><span class="n">ee</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getMultiplicity</span><span class="p">(</span><span class="n">ee</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="k">else</span><span class="p">:</span>
      <span class="c1"># no own elements. Make empty table</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

    <span class="c1"># handle inherited elements</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">clazz</span><span class="o">.</span><span class="n">container</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">impPackage</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39; (not in package)&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStrongString</span><span class="p">(</span><span class="s1">&#39;Inherited Attributes</span><span class="si">%s</span><span class="s1">: &#39;</span> <span class="o">%</span> <span class="n">ss</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">inhelems</span><span class="p">:</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">ee</span> <span class="ow">in</span> <span class="n">inhelems</span><span class="p">:</span>
        <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">clazz</span><span class="p">,</span> <span class="n">ee</span><span class="p">)</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="n">ee</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
      <span class="n">tt</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tt</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ll</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getClassAttrMethods"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getClassAttrMethods">[docs]</a>  <span class="k">def</span> <span class="nf">getClassAttrMethods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complexDataType</span><span class="p">,</span> <span class="n">methods</span><span class="p">):</span>

    <span class="n">attrMethods</span> <span class="o">=</span> <span class="p">[</span> <span class="n">method</span> <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span> <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">opType</span> <span class="ow">in</span> <span class="n">attrOpTypes</span> \
                    <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaAttribute</span><span class="p">)</span> <span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sortAttrMethods</span><span class="p">(</span><span class="n">attrMethods</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">attrMethods</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getClassLinkAttrMethods"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getClassLinkAttrMethods">[docs]</a>  <span class="k">def</span> <span class="nf">getClassLinkAttrMethods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complexDataType</span><span class="p">,</span> <span class="n">methods</span><span class="p">):</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaClass</span><span class="p">):</span>
      <span class="n">linkAttrMethods</span> <span class="o">=</span> <span class="p">[</span> <span class="n">method</span> <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span> <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">opType</span> <span class="ow">in</span> <span class="n">attrOpTypes</span> \
                          <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaRole</span><span class="p">)</span> <span class="p">]</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">sortAttrMethods</span><span class="p">(</span><span class="n">linkAttrMethods</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">linkAttrMethods</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">return</span> <span class="n">linkAttrMethods</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getClassClassMethods"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getClassClassMethods">[docs]</a>  <span class="k">def</span> <span class="nf">getClassClassMethods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complexDataType</span><span class="p">,</span> <span class="n">methods</span><span class="p">):</span>

    <span class="n">classMethods</span> <span class="o">=</span> <span class="p">[</span> <span class="n">method</span> <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span> <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">opType</span> <span class="ow">in</span> <span class="n">classOpTypes</span> <span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sortClassMethods</span><span class="p">(</span><span class="n">classMethods</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">classMethods</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getClassNewMethods"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getClassNewMethods">[docs]</a>  <span class="k">def</span> <span class="nf">getClassNewMethods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complexDataType</span><span class="p">,</span> <span class="n">methods</span><span class="p">):</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaClass</span><span class="p">):</span>
      <span class="n">newMethods</span> <span class="o">=</span> <span class="p">[</span> <span class="n">method</span> <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span> <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">opType</span> <span class="ow">in</span> <span class="n">newOpTypes</span> <span class="p">]</span>
      <span class="n">newMethods</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">newMethods</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">newMethods</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">return</span> <span class="n">newMethods</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getClassOtherMethods"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getClassOtherMethods">[docs]</a>  <span class="k">def</span> <span class="nf">getClassOtherMethods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complexDataType</span><span class="p">,</span> <span class="n">methods</span><span class="p">):</span>

    <span class="n">otherMethods</span> <span class="o">=</span> <span class="p">[</span> <span class="n">method</span> <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span> <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">opType</span> <span class="ow">in</span> <span class="n">otherOpTypes</span> <span class="p">]</span>
    <span class="n">otherMethods</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">otherMethods</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">otherMethods</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeMethodTables"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeMethodTables">[docs]</a>  <span class="k">def</span> <span class="nf">writeMethodTables</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complexDataType</span><span class="p">):</span>

    <span class="n">package</span> <span class="o">=</span> <span class="n">complexDataType</span><span class="o">.</span><span class="n">container</span>
 
    <span class="k">if</span> <span class="n">package</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">impPackage</span><span class="p">:</span>
      <span class="n">methods</span> <span class="o">=</span> <span class="n">complexDataType</span><span class="o">.</span><span class="n">operations</span>
      <span class="n">methodString</span> <span class="o">=</span> <span class="s1">&#39;class&#39;</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">methods</span> <span class="o">=</span> <span class="n">complexDataType</span><span class="o">.</span><span class="n">getAllOperations</span><span class="p">()</span>
      <span class="n">methods</span> <span class="o">=</span> <span class="p">[</span> <span class="n">method</span> <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span> <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">container</span> <span class="o">==</span> <span class="n">package</span> <span class="p">]</span>
      <span class="n">methodString</span> <span class="o">=</span> <span class="s1">&#39;package&#39;</span>

    <span class="n">toplinkString</span> <span class="o">=</span> <span class="s1">&#39;Go</span><span class="si">%s</span><span class="s1">to</span><span class="si">%s</span><span class="s1">Top&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">())</span>
    <span class="n">toplinkString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;#toplink&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStyleString</span><span class="p">(</span><span class="n">toplinkString</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;font-size:9pt&#39;</span><span class="p">))</span>

    <span class="n">nonStdString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;non-std.&#39;</span><span class="p">)</span>
    <span class="n">classString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getStrongString</span><span class="p">(</span><span class="s1">&#39;static&#39;</span><span class="p">)</span>

    <span class="n">ll</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getClassPageMethods</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">methods</span><span class="p">)</span>

    <span class="n">ncols</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="n">methods</span><span class="p">)</span> <span class="ow">in</span> <span class="n">ll</span><span class="p">:</span>
      <span class="n">haveAttrCol</span> <span class="o">=</span> <span class="n">kind</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Attribute&#39;</span><span class="p">)</span>
      <span class="n">haveCommCol</span> <span class="o">=</span> <span class="p">(</span><span class="n">kind</span> <span class="o">!=</span> <span class="s1">&#39;Factory&#39;</span><span class="p">)</span>

      <span class="k">if</span> <span class="n">haveAttrCol</span><span class="p">:</span>
        <span class="n">ncols</span> <span class="o">+=</span> <span class="mi">2</span>
      <span class="k">if</span> <span class="n">haveCommCol</span><span class="p">:</span>
        <span class="n">ncols</span> <span class="o">+=</span> <span class="mi">1</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeHorizontalLine</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartSection</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeAnchorLink</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> Methods&#39;</span> <span class="o">%</span> <span class="n">kind</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> Methods (in </span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="n">methodString</span><span class="p">),</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">toplinkString</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartTable</span><span class="p">(</span><span class="n">cellpadding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cellspacing</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;elemtable&#39;</span><span class="p">)</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">()</span>
      <span class="k">if</span> <span class="n">haveAttrCol</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Attribute&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Method&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Return&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Parameters&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">haveCommCol</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;Comment&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblhead&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="k">if</span> <span class="n">methods</span><span class="p">:</span>
        <span class="n">target</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">methods</span><span class="p">)):</span>
          <span class="n">method</span> <span class="o">=</span> <span class="n">methods</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>

          <span class="c1"># Attribute</span>
          <span class="k">if</span> <span class="n">haveAttrCol</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">target</span> <span class="o">!=</span> <span class="n">target</span><span class="p">:</span>
              <span class="n">attr</span> <span class="o">=</span> <span class="n">method</span><span class="o">.</span><span class="n">target</span>
              <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">attr</span><span class="o">.</span><span class="n">container</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
              <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="n">attr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblspecialrow&#39;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="n">ncols</span><span class="p">)</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>

          <span class="c1"># Method</span>
          <span class="k">if</span> <span class="n">haveAttrCol</span><span class="p">:</span>
            <span class="n">colspan</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span>
          <span class="k">else</span><span class="p">:</span>
            <span class="n">colspan</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;left&#39;</span>
          <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">methodHasOwnPage</span><span class="p">(</span><span class="n">method</span><span class="p">):</span>
            <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
            <span class="c1">###ss = self.getLinkString(&#39;%s.%s&#39; % (ref, self.fileSuffix), method.name)</span>
            <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">getFuncname</span><span class="p">(</span><span class="n">method</span><span class="p">))</span>
          <span class="k">else</span><span class="p">:</span>
            <span class="c1">###ss = method.name</span>
            <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getFuncname</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="n">align</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="n">colspan</span><span class="p">)</span>

          <span class="c1"># Return</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getMethodReturn</span><span class="p">(</span><span class="n">method</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>

          <span class="c1"># Parameters</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getMethodParameters</span><span class="p">(</span><span class="n">method</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>

          <span class="c1"># Comment</span>
          <span class="k">if</span> <span class="n">haveCommCol</span><span class="p">:</span>
            <span class="n">ll</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">scope</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">classifier_level</span><span class="p">:</span>
              <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">classString</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">method</span><span class="o">.</span><span class="n">isImplicit</span><span class="p">:</span>
              <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nonStdString</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="s1">&#39;Other&#39;</span><span class="p">:</span>
              <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getElemDocString</span><span class="p">(</span><span class="n">method</span><span class="p">))</span>

            <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">()</span>
            <span class="n">ss</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;tblrow&#39;</span><span class="p">)</span>

          <span class="n">target</span> <span class="o">=</span> <span class="n">method</span><span class="o">.</span><span class="n">target</span>

          <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>

      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeStartRow</span><span class="p">(</span><span class="n">valign</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeCell</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeEndRow</span><span class="p">()</span>
        
      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndTable</span><span class="p">()</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">writeEndSection</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeDiagramDocumentation"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeDiagramDocumentation">[docs]</a>  <span class="k">def</span> <span class="nf">writeDiagramDocumentation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">):</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">package</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeRootPackageDiagram</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">package</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBranchPackageDiagram</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeLeafPackageDiagram</span><span class="p">(</span><span class="n">package</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeInheritanceDiagram"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeInheritanceDiagram">[docs]</a>  <span class="k">def</span> <span class="nf">writeInheritanceDiagram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complexDataType</span><span class="p">):</span>

    <span class="n">spaceImage</span> <span class="o">=</span> <span class="s1">&#39;whiteBlank.gif&#39;</span>
    <span class="n">vertLine</span> <span class="o">=</span> <span class="s1">&#39;vertLine.gif&#39;</span>
    <span class="n">horizLine</span> <span class="o">=</span> <span class="s1">&#39;horizLine.gif&#39;</span>
    <span class="n">cornerLine</span> <span class="o">=</span> <span class="s1">&#39;cornerLine.gif&#39;</span>

    <span class="c1"># get superclasses</span>
    <span class="n">supers</span> <span class="o">=</span> <span class="p">[[</span><span class="n">complexDataType</span><span class="p">]]</span>
    <span class="n">supertypes</span> <span class="o">=</span> <span class="n">complexDataType</span><span class="o">.</span><span class="n">supertypes</span>
    <span class="k">while</span> <span class="n">supertypes</span><span class="p">:</span>
      <span class="n">supers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">supertypes</span><span class="p">)</span>
      <span class="n">supertypes</span> <span class="o">=</span> <span class="n">supertypes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">supertypes</span>

    <span class="c1"># image dir</span>
    <span class="n">imgPath</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">upDir</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageDir</span><span class="p">)</span>
    <span class="n">src</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">imgPath</span><span class="p">,</span> <span class="n">spaceImage</span><span class="p">)</span>
    <span class="n">space</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImageString</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># build diagram</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;Inheritance:&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartIndent</span><span class="p">()</span>
    <span class="n">indent</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="n">supertypes</span> <span class="o">=</span> <span class="n">supers</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">supertype</span> <span class="ow">in</span> <span class="n">supertypes</span><span class="p">:</span>
        <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span> <span class="p">(</span><span class="n">complexDataType</span><span class="p">,</span> <span class="n">supertype</span><span class="p">)</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span><span class="p">)</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImportName</span><span class="p">(</span><span class="n">supertype</span><span class="p">))</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
      <span class="n">cc</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNonBreakingSpaces</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cc</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ll</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">writeBreak</span><span class="p">()</span>

      <span class="k">if</span> <span class="ow">not</span> <span class="n">supers</span><span class="p">:</span>
        <span class="k">break</span>

      <span class="n">tt</span> <span class="o">=</span> <span class="n">indent</span>
      <span class="k">for</span> <span class="n">xx</span> <span class="ow">in</span> <span class="p">(</span><span class="n">vertLine</span><span class="p">,</span> <span class="n">cornerLine</span><span class="p">,</span> <span class="n">horizLine</span><span class="p">,</span> <span class="n">horizLine</span><span class="p">):</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="n">tt</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImageString</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">imgPath</span><span class="p">,</span> <span class="n">xx</span><span class="p">),</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xx</span> <span class="o">==</span> <span class="n">vertLine</span><span class="p">:</span>
          <span class="n">tt</span> <span class="o">=</span> <span class="n">tt</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getBreakString</span><span class="p">()</span> <span class="o">+</span> <span class="n">indent</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tt</span><span class="p">)</span>

      <span class="n">indent</span> <span class="o">+=</span> <span class="n">space</span> <span class="o">*</span> <span class="mi">3</span>
      <span class="n">supertypes</span> <span class="o">=</span> <span class="n">supers</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndIndent</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writePrevNextLinks"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writePrevNextLinks">[docs]</a>  <span class="k">def</span> <span class="nf">writePrevNextLinks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">topPath</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">):</span>

    <span class="n">strs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">tag</span><span class="p">,</span><span class="n">xx</span> <span class="ow">in</span> <span class="p">((</span><span class="s1">&#39;prev&#39;</span><span class="p">,</span><span class="n">prev</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;foll&#39;</span><span class="p">,</span><span class="n">foll</span><span class="p">)):</span>
      <span class="k">if</span> <span class="n">xx</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">strs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileFromTop</span><span class="p">(</span><span class="n">xx</span><span class="p">))</span>
        <span class="n">strs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">tag</span><span class="p">))</span>
        
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">strs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeVerticalBar</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">strs</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;}&#39;</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeElementComment"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeElementComment">[docs]</a>  <span class="k">def</span> <span class="nf">writeElementComment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeComment</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getVersionString</span><span class="p">(</span>
      <span class="n">metaobj</span><span class="o">=</span><span class="n">elem</span><span class="p">,</span>
      <span class="n">scriptName</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scriptName</span><span class="p">)</span>
    <span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

  <span class="c1">###def writeElementHeader(self, elem, title, prev=None, foll=None, special = None, upDir = 0, attributeLetter = &#39;A&#39;):</span>
<div class="viewcode-block" id="ApiDocGen.writeElementHeader"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeElementHeader">[docs]</a>  <span class="k">def</span> <span class="nf">writeElementHeader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">prev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">foll</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">special</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

    <span class="c1"># upDir is hack to get Attribute Map pages to work</span>

    <span class="c1">##self.writeBasicHeader(elem, title, isDiagram=False, upDir=upDir)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeBasicHeader</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">isDiagram</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># write navigator bar</span>
    <span class="c1">##self.writeNavigatorBar(elem, prev=prev, foll=foll, special=special, upDir=upDir, attributeLetter=attributeLetter)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeNavigatorBar</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">prev</span><span class="o">=</span><span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="o">=</span><span class="n">foll</span><span class="p">,</span> <span class="n">special</span><span class="o">=</span><span class="n">special</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeDiagramElementHeader"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeDiagramElementHeader">[docs]</a>  <span class="k">def</span> <span class="nf">writeDiagramElementHeader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">special</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">special</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="n">special</span>
    <span class="k">elif</span> <span class="n">package</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;Home&#39;</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;UML Diagram Doc - </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">ss</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeBasicHeader</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">isDiagram</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># write navigator bar</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeDiagramNavigatorBar</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">special</span><span class="o">=</span><span class="n">special</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeBasicHeader"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeBasicHeader">[docs]</a>  <span class="k">def</span> <span class="nf">writeBasicHeader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">isDiagram</span><span class="p">):</span>

    <span class="c1"># upDir is hack to get Attribute Map pages to work</span>

    <span class="c1"># TBD: this is now producing the wrong formula so look at again</span>
    <span class="k">if</span> <span class="n">elem</span><span class="p">:</span>

      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">elemHasOwnDirectory</span><span class="p">(</span><span class="n">elem</span><span class="p">):</span>
        <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">upDir</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="p">,</span> <span class="n">upDir</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

      <span class="n">package</span> <span class="o">=</span> <span class="n">elem</span>
      <span class="k">while</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaPackage</span><span class="p">):</span>
        <span class="n">package</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">container</span>
      <span class="n">packageGroup</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">taggedValues</span><span class="p">[</span><span class="s1">&#39;packageGroup&#39;</span><span class="p">]</span>
      <span class="n">packageName</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span>

    <span class="k">else</span><span class="p">:</span>
      <span class="n">topPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upDir</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># HACK for Help and License</span>
      <span class="n">packageGroup</span> <span class="o">=</span> <span class="s1">&#39;core&#39;</span>
      <span class="n">packageName</span> <span class="o">=</span> <span class="s1">&#39;n/a&#39;</span>

    <span class="n">apiFileDir</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">topPath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">apiFileDir</span><span class="p">)</span>

    <span class="nb">dict</span> <span class="o">=</span> <span class="n">licenseData</span><span class="o">.</span><span class="n">licenseInfo</span><span class="p">[</span><span class="n">packageGroup</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;fileName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span>
    <span class="c1"># dict[&#39;licenseLocation&#39;] = self.upDir(dirDepth) + &#39;license&#39;</span>
    <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;licenseLocation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">apiFileDir</span>
    <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;programType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;API documentation&#39;</span>
    <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;programFunction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
      <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> documentation for CCPN data model, package </span><span class="si">%s</span><span class="s2">&quot;</span>
      <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apiName</span><span class="p">,</span> <span class="n">packageName</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;licenseFileName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;useLicense&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">elem</span> <span class="ow">or</span> <span class="n">elem</span> <span class="o">!=</span> <span class="n">package</span><span class="p">:</span>
      <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;useLicense&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;brief&#39;</span>
      <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;references&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">()</span>
      <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;credits&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>


    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeader</span><span class="p">(</span><span class="n">scriptName</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scriptName</span><span class="p">,</span>
      <span class="n">headerComment</span><span class="o">=</span><span class="n">headers</span><span class="o">.</span><span class="n">getHeader</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">),</span>
      <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
      <span class="n">styleSheetDir</span><span class="o">=</span><span class="n">apiFileDir</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeObjectFooter"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeObjectFooter">[docs]</a>  <span class="k">def</span> <span class="nf">writeObjectFooter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">obj</span><span class="p">:</span>
      <span class="n">objName</span> <span class="o">=</span> <span class="s1">&#39;n/a&#39;</span>
    <span class="k">elif</span> <span class="n">obj</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
      <span class="n">objName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImportName</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">objName</span> <span class="o">=</span> <span class="s1">&#39;Root&#39;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeFooter</span><span class="p">(</span>
      <span class="n">dataModelVersion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">modelPortal</span><span class="o">.</span><span class="n">dataModelVersion</span><span class="p">,</span>
      <span class="n">releaseVersion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">releaseVersion</span><span class="p">,</span> 
      <span class="n">objName</span><span class="o">=</span><span class="n">objName</span><span class="p">,</span> <span class="n">scriptName</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scriptName</span><span class="p">,)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writePageHeading"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writePageHeading">[docs]</a>  <span class="k">def</span> <span class="nf">writePageHeading</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="n">level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">qname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImportName</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="n">ss</span> <span class="o">=</span> <span class="n">qname</span><span class="p">[:</span><span class="o">-</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaPackage</span><span class="p">):</span>
      <span class="n">fromstr</span> <span class="o">=</span> <span class="s1">&#39;Package&#39;</span>
      <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="n">elem</span><span class="o">.</span><span class="n">topPackage</span><span class="p">():</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="s1">&#39;Root&#39;</span>
        <span class="c1"># TBD: not sure this works for all implementations</span>
        <span class="n">addr</span> <span class="o">=</span> <span class="s1">&#39;../../../</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topApiFile</span><span class="p">)</span>

      <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">elemHasOwnDirectory</span><span class="p">(</span><span class="n">elem</span><span class="p">):</span>
        <span class="n">addr</span> <span class="o">=</span> <span class="s1">&#39;../</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">addr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">fromstr</span> <span class="o">=</span> <span class="s1">&#39;Class&#39;</span>
      <span class="n">addr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">writeStartIndent</span><span class="p">()</span>
    <span class="n">heading</span> <span class="o">=</span> <span class="s1">&#39;from </span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">fromstr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkString</span><span class="p">(</span><span class="n">addr</span><span class="p">,</span> <span class="n">ss</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeHeading</span><span class="p">(</span><span class="n">heading</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writeEndIndent</span><span class="p">()</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.sortAttrMethods"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.sortAttrMethods">[docs]</a>  <span class="k">def</span> <span class="nf">sortAttrMethods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">methods</span><span class="p">):</span>

    <span class="n">methods</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">method</span><span class="p">:(</span><span class="n">method</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">method</span><span class="o">.</span><span class="n">opType</span><span class="p">))</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.sortClassMethods"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.sortClassMethods">[docs]</a>  <span class="k">def</span> <span class="nf">sortClassMethods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">methods</span><span class="p">):</span>

    <span class="n">methods</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">method</span><span class="p">:</span><span class="n">method</span><span class="o">.</span><span class="n">opType</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.methodHasOwnPage"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.methodHasOwnPage">[docs]</a>  <span class="k">def</span> <span class="nf">methodHasOwnPage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">method</span><span class="o">.</span><span class="n">codeStubs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handCodeKey</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getMethodReturn"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getMethodReturn">[docs]</a>  <span class="k">def</span> <span class="nf">getMethodReturn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>

    <span class="n">returnPars</span> <span class="o">=</span> <span class="p">[</span> <span class="n">parameter</span> <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">method</span><span class="o">.</span><span class="n">parameters</span> <span class="k">if</span> <span class="n">parameter</span><span class="o">.</span><span class="n">direction</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">return_direction</span> <span class="p">]</span>

    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">returnPars</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;method </span><span class="si">%s</span><span class="s1"> has </span><span class="si">%d</span><span class="s1"> return parameters, should be 0 or 1&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">method</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">(),</span> <span class="n">n</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="n">returnString</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">param</span> <span class="o">=</span> <span class="n">returnPars</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
      <span class="n">returnString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getParamString</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">returnString</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getMethodParameters"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getMethodParameters">[docs]</a>  <span class="k">def</span> <span class="nf">getMethodParameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">opType</span> <span class="o">==</span> <span class="s1">&#39;new&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">method</span><span class="o">.</span><span class="n">opSubType</span><span class="p">:</span>
      <span class="n">paramsString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getNewParamString</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">method</span><span class="o">.</span><span class="n">opType</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;findFirst&#39;</span><span class="p">,</span> <span class="s1">&#39;findAll&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">method</span><span class="o">.</span><span class="n">opSubType</span><span class="p">:</span>
      <span class="n">paramsString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getKeywordValueString</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
      <span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="n">parameter</span> <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">method</span><span class="o">.</span><span class="n">parameters</span>
                <span class="k">if</span> <span class="n">parameter</span><span class="o">.</span><span class="n">direction</span> <span class="o">!=</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">return_direction</span><span class="p">]</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">params</span><span class="p">:</span>
        <span class="n">paramString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getParamString</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paramString</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">ll</span><span class="p">:</span>
        <span class="n">paramsString</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">paramsString</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span>

    <span class="k">return</span> <span class="n">paramsString</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.determineAllAbstractDataTypes"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.determineAllAbstractDataTypes">[docs]</a>  <span class="k">def</span> <span class="nf">determineAllAbstractDataTypes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">,</span> <span class="n">allAbstractDataTypes</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">package</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">pp</span> <span class="ow">in</span> <span class="n">package</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">determineAllAbstractDataTypes</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">allAbstractDataTypes</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">allAbstractDataTypes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">classes</span><span class="p">)</span>
      <span class="n">allAbstractDataTypes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">dataTypes</span><span class="p">)</span>
      <span class="n">allAbstractDataTypes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">dataObjTypes</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.determineAllAttrRoles"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.determineAllAttrRoles">[docs]</a>  <span class="k">def</span> <span class="nf">determineAllAttrRoles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">,</span> <span class="n">allAttrRoles</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">package</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">pp</span> <span class="ow">in</span> <span class="n">package</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">determineAllAttrRoles</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">allAttrRoles</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">clazz</span> <span class="ow">in</span> <span class="n">package</span><span class="o">.</span><span class="n">classes</span><span class="p">:</span>
        <span class="n">allAttrRoles</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">clazz</span><span class="o">.</span><span class="n">attributes</span><span class="p">)</span>
        <span class="n">allAttrRoles</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">clazz</span><span class="o">.</span><span class="n">roles</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">dataObjType</span> <span class="ow">in</span> <span class="n">package</span><span class="o">.</span><span class="n">dataObjTypes</span><span class="p">:</span>
        <span class="n">allAttrRoles</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dataObjType</span><span class="o">.</span><span class="n">attributes</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.determineAllMethods"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.determineAllMethods">[docs]</a>  <span class="k">def</span> <span class="nf">determineAllMethods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">,</span> <span class="n">allMethods</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">package</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">pp</span> <span class="ow">in</span> <span class="n">package</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">determineAllMethods</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">allMethods</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">clazz</span> <span class="ow">in</span> <span class="n">package</span><span class="o">.</span><span class="n">classes</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">clazz</span><span class="o">.</span><span class="n">operations</span><span class="p">:</span>
          <span class="k">if</span> <span class="ow">not</span> <span class="n">op</span><span class="o">.</span><span class="n">opSubType</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">op</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">):</span>
            <span class="n">allMethods</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">op</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getPrevNextPackages"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getPrevNextPackages">[docs]</a>  <span class="k">def</span> <span class="nf">getPrevNextPackages</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">package</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
      <span class="n">containedPackages</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
      <span class="n">m</span> <span class="o">=</span> <span class="n">containedPackages</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">m</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">containedPackages</span><span class="p">[</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="k">if</span> <span class="n">m</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">containedPackages</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">foll</span> <span class="o">=</span> <span class="n">containedPackages</span><span class="p">[</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">foll</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">prev</span> <span class="o">=</span> <span class="n">foll</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">prev</span><span class="p">,</span> <span class="n">foll</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getElemDocString"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getElemDocString">[docs]</a>  <span class="k">def</span> <span class="nf">getElemDocString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>

    <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">normaliseString</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">documentation</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">taggedValues</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;isDraft&#39;</span><span class="p">):</span>
      <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">draftDocString</span> <span class="o">+</span> <span class="n">doc</span>

    <span class="k">return</span> <span class="n">doc</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getLinkInfo"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getLinkInfo">[docs]</a>  <span class="k">def</span> <span class="nf">getLinkInfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fromElem</span><span class="p">,</span> <span class="n">toElem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;return tuple of relName, relDirectory.</span>
<span class="sd">       see code for details</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">toElem</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="k">raise</span> <span class="n">MemopsError</span><span class="p">(</span><span class="s1">&#39;getLinkInfo callled with containerless element </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">toElem</span><span class="p">)</span>

    <span class="c1"># logic moved to bottom because path was not always coming out correctly</span>
    <span class="c1">###elif (fromElem.container is toElem.container and toElem.container.container is not None):</span>
    <span class="c1">###  # elements with the same container are in the same directory,</span>
    <span class="c1">###  # unless they are packages contained in RootPackage</span>
    <span class="c1">###  return (toElem.name, &#39;../%s&#39; % toElem.name)</span>

    <span class="k">else</span><span class="p">:</span>
      <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pathToTop</span><span class="p">(</span><span class="n">fromElem</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">directoryFromTop</span><span class="p">(</span><span class="n">toElem</span><span class="p">,</span> <span class="n">ignoreElemType</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">toElem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaDataType</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">toElem</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaDataObjType</span><span class="p">):</span>

      <span class="n">pp</span> <span class="o">=</span> <span class="n">toElem</span><span class="o">.</span><span class="n">container</span>

      <span class="k">if</span> <span class="n">pp</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">impPackage</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">toElem</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">path</span>

    <span class="k">if</span> <span class="n">fromElem</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="n">toElem</span><span class="o">.</span><span class="n">container</span> <span class="ow">and</span> <span class="n">toElem</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">name</span> <span class="o">=</span> <span class="n">toElem</span><span class="o">.</span><span class="n">name</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getImportName</span><span class="p">(</span><span class="n">toElem</span><span class="p">,</span> <span class="n">fromElem</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.pathToTop"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.pathToTop">[docs]</a>  <span class="k">def</span> <span class="nf">pathToTop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">isDiagram</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">upDir</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; return relative directory path from a given element to the top directory</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getElementPathList</span><span class="p">(</span><span class="n">element</span><span class="p">))</span> <span class="o">+</span> <span class="n">upDir</span>

    <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;topPackage&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">element</span> <span class="ow">is</span> <span class="n">element</span><span class="o">.</span><span class="n">topPackage</span><span class="p">():</span>
        <span class="c1"># this is the root package</span>
        <span class="n">length</span> <span class="o">=</span> <span class="n">upDir</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MemopsError</span><span class="p">(</span><span class="s2">&quot;path from root element not implemented for </span><span class="si">%s</span><span class="s2">&quot;</span>
         <span class="o">%</span> <span class="n">element</span>
        <span class="p">)</span>

    <span class="k">elif</span> <span class="n">isDiagram</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">:</span>
        <span class="n">length</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">elemHasOwnDirectory</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
      <span class="n">length</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">upDir</span><span class="p">(</span><span class="n">length</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getElementPathList"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getElementPathList">[docs]</a>  <span class="k">def</span> <span class="nf">getElementPathList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.upDir"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.upDir">[docs]</a>  <span class="k">def</span> <span class="nf">upDir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="k">return</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="p">[</span><span class="s1">&#39;..&#39;</span><span class="p">]))</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

  <span class="c1"># TBD: not sure why ignoreElemType comes into use in one case</span>
  <span class="c1"># something probably wrong with that use, look at again</span>
<div class="viewcode-block" id="ApiDocGen.directoryFromTop"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.directoryFromTop">[docs]</a>  <span class="k">def</span> <span class="nf">directoryFromTop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">ignoreElemType</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Generate directory name relative to top directory of an element</span>
<span class="sd">    &quot;&quot;&quot;</span>
  
    <span class="c1">#n = len(self.baseDirNames)</span>
    <span class="c1"># ll = self.baseDirNames + element.qualifiedName().split(&#39;.&#39;)</span>
    <span class="n">ll</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
    <span class="c1">#ll[n+1:n+1] = self.docSubDirs</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ignoreElemType</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">elemHasOwnDirectory</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
      <span class="k">del</span> <span class="n">ll</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="o">*</span><span class="n">ll</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.fileFromTop"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.fileFromTop">[docs]</a>  <span class="k">def</span> <span class="nf">fileFromTop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>

    <span class="n">directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">directoryFromTop</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">elemHasOwnDirectory</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
      <span class="n">fileName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexFile</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">fileName</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">element</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fileName</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getObjDocDirName"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getObjDocDirName">[docs]</a>  <span class="k">def</span> <span class="nf">getObjDocDirName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metaObj</span><span class="p">):</span>

    <span class="n">fileName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getObjDocFileName</span><span class="p">(</span><span class="n">metaObj</span><span class="p">)</span>
    <span class="n">dirName</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">splitPath</span><span class="p">(</span><span class="n">fileName</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
 
    <span class="k">return</span> <span class="n">dirName</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getObjDocFileName"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getObjDocFileName">[docs]</a>  <span class="k">def</span> <span class="nf">getObjDocFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metaObj</span><span class="p">,</span> <span class="n">absoluteName</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">addSuffix</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot; Get filename for metaObj</span>
<span class="sd">    If absoluteName is True the file name is absolute</span>
<span class="sd">    otherwise it is relative to the relevant baseDir</span>
<span class="sd">    &quot;&quot;&quot;</span>
   
    <span class="c1"># absolute or relative path</span>
    <span class="k">if</span> <span class="n">absoluteName</span><span class="p">:</span>
      <span class="c1">#pathList = [self.rootDirName] + self.baseDirNames</span>
      <span class="n">pathList</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">rootDirName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDocDir</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">pathList</span> <span class="o">=</span> <span class="p">[]</span>
   
    <span class="k">if</span> <span class="n">metaObj</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="c1"># Root package only</span>
      <span class="n">pathList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">metaConstants</span><span class="o">.</span><span class="n">modellingPackageName</span><span class="p">)</span>
      <span class="c1">#pathList.append(self.codeDirName)</span>
      <span class="c1">#pathList.append(self.docDir)</span>
      <span class="n">pathList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rootFileName</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
      <span class="c1"># any other object</span>
      <span class="n">ll</span> <span class="o">=</span> <span class="n">metaObj</span><span class="o">.</span><span class="n">qualifiedName</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
      <span class="c1">#ll[1:1] = [self.codeDirName, self.docDir]</span>
      <span class="n">pathList</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">elemHasOwnDirectory</span><span class="p">(</span><span class="n">metaObj</span><span class="p">):</span>
        <span class="c1"># gets own directory</span>
        <span class="n">pathList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">indexPrefix</span><span class="p">)</span>

    <span class="c1"># add suffix</span>
    <span class="k">if</span> <span class="n">addSuffix</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">:</span>
      <span class="n">pathList</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">pathList</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileSuffix</span><span class="p">)</span>
    <span class="c1">#</span>
    <span class="k">return</span> <span class="n">Path</span><span class="o">.</span><span class="n">joinPath</span><span class="p">(</span><span class="o">*</span><span class="n">pathList</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getParentString"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getParentString">[docs]</a>  <span class="k">def</span> <span class="nf">getParentString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clazz</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; get string with parent class name</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">parentRole</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="n">parentRole</span>
    <span class="k">if</span> <span class="n">parentRole</span><span class="p">:</span>
      <span class="n">otherClass</span> <span class="o">=</span> <span class="n">parentRole</span><span class="o">.</span><span class="n">valueType</span>
      <span class="k">return</span> <span class="s1">&#39;link </span><span class="si">%s</span><span class="s1"> to class </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">parentRole</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">getEmphasisString</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getElemTypeString</span><span class="p">(</span><span class="n">parentRole</span><span class="p">)))</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="s1">&#39;None&#39;</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getElemTypeString"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getElemTypeString">[docs]</a>  <span class="k">def</span> <span class="nf">getElemTypeString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; get attribute type string (string or link) for HTML</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaParameter</span><span class="p">):</span>
      <span class="n">target</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">valueType</span>
      <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">container</span><span class="p">,</span><span class="n">target</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaAttribute</span><span class="p">):</span>
      <span class="n">target</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">valueType</span>
      <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="p">,</span><span class="n">target</span><span class="p">)</span>
      <span class="c1"># TBD: is below correct (first clause added, second was there)???</span>
      <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaDataType</span><span class="p">)</span> <span class="ow">and</span> <span class="n">target</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">target</span><span class="o">.</span><span class="n">typeCodes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">typeCodeKey</span><span class="p">]:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">target</span><span class="o">.</span><span class="n">name</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaRole</span><span class="p">):</span>
      <span class="n">target</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">valueType</span>
      <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLinkInfo</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="p">,</span><span class="n">target</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">raise</span> <span class="n">MemopsError</span><span class="p">(</span><span class="s1">&#39;getElemTypeString called with object of class </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">elem</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">elemHasOwnDirectory</span><span class="p">(</span><span class="n">target</span><span class="p">):</span>
      <span class="k">return</span> <span class="s1">&#39;&lt;a href =&quot;</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1">.html&quot;&gt;</span><span class="si">%s</span><span class="s1">&lt;/a&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">ApiDocGen</span><span class="o">.</span><span class="n">indexPrefix</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="s1">&#39;&lt;a href =&quot;</span><span class="si">%s</span><span class="s1">.html&quot;&gt;</span><span class="si">%s</span><span class="s1">&lt;/a&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getMultiplicity"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getMultiplicity">[docs]</a>  <span class="k">def</span> <span class="nf">getMultiplicity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; get multiplicity string from object with a locard and hicard</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">hicard</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">hicard</span>
    <span class="k">if</span> <span class="n">hicard</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">infinity</span><span class="p">:</span>
      <span class="n">hicard</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>

    <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">..</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">locard</span><span class="p">,</span><span class="n">hicard</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getMandatoryElements"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getMandatoryElements">[docs]</a>  <span class="k">def</span> <span class="nf">getMandatoryElements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; get list of mandatory element names</span>
<span class="sd">    All elements with locard == hicard are mandatory</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">hasOptionals</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">mandatories</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">ee</span> <span class="ow">in</span> <span class="n">elem</span><span class="o">.</span><span class="n">getAllAttributes</span><span class="p">():</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="n">ee</span><span class="o">.</span><span class="n">isDerived</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ee</span><span class="o">.</span><span class="n">isAutomatic</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ee</span><span class="o">.</span><span class="n">isImplementation</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ee</span><span class="o">.</span><span class="n">locard</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
          <span class="k">if</span> <span class="ow">not</span> <span class="n">ee</span><span class="o">.</span><span class="n">defaultValue</span><span class="p">:</span>
            <span class="n">mandatories</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">hasOptionals</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaClass</span><span class="p">):</span>
      <span class="k">for</span> <span class="n">ee</span> <span class="ow">in</span> <span class="n">elem</span><span class="o">.</span><span class="n">getAllRoles</span><span class="p">():</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">hierarchy</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">no_hierarchy</span>
              <span class="ow">and</span> <span class="ow">not</span> <span class="n">ee</span><span class="o">.</span><span class="n">isDerived</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ee</span><span class="o">.</span><span class="n">isAutomatic</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ee</span><span class="o">.</span><span class="n">isImplementation</span><span class="p">):</span>
          <span class="k">if</span> <span class="n">ee</span><span class="o">.</span><span class="n">locard</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mandatories</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
          <span class="k">else</span><span class="p">:</span>
            <span class="n">hasOptionals</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="n">mandatories</span><span class="p">,</span> <span class="n">hasOptionals</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.elemHasOwnDirectory"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.elemHasOwnDirectory">[docs]</a>  <span class="k">def</span> <span class="nf">elemHasOwnDirectory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; whether element&#39;s HTML page is in own directory or in container&#39;s directory</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaPackage</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaClass</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaDataObjType</span><span class="p">):</span>
      <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="kc">False</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getDiagramOrderedPackages"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getDiagramOrderedPackages">[docs]</a>  <span class="k">def</span> <span class="nf">getDiagramOrderedPackages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; return packages ordered depth-first for use in left bar of diagram pages</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">mp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">modelPortal</span>
    <span class="n">topPackage</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">topPackage</span>
    <span class="n">usePackages</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">branchPackages</span><span class="p">()</span> <span class="o">+</span> <span class="n">mp</span><span class="o">.</span><span class="n">leafPackagesAlphabetic</span><span class="p">()</span>

    <span class="c1"># traverse packages in depth-first order, adding to list if in usePackages</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1">#stack = [metaUtil.sortByAttribute(topPackage.containedPackages, &#39;name&#39;)]</span>
    <span class="c1">#stack.reverse()</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="p">[[</span><span class="n">topPackage</span><span class="p">]]</span>
 
    <span class="k">while</span> <span class="n">stack</span><span class="p">:</span>
      <span class="n">current</span> <span class="o">=</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="k">del</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    
      <span class="k">if</span> <span class="n">current</span> <span class="ow">in</span> <span class="n">usePackages</span><span class="p">:</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current</span><span class="p">)</span>
        <span class="n">ll</span> <span class="o">=</span> <span class="n">metaUtil</span><span class="o">.</span><span class="n">sortByAttribute</span><span class="p">(</span><span class="n">current</span><span class="o">.</span><span class="n">containedPackages</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ll</span><span class="p">:</span>
          <span class="n">ll</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
          <span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getElemMethods"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getElemMethods">[docs]</a>  <span class="k">def</span> <span class="nf">getElemMethods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; return methods listed on attribute page</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">opTypes</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="s1">&#39;sorted&#39;</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="s1">&#39;remove&#39;</span><span class="p">,</span> <span class="s1">&#39;new&#39;</span><span class="p">,</span> <span class="s1">&#39;findFirst&#39;</span><span class="p">,</span> <span class="s1">&#39;findAll&#39;</span><span class="p">)</span>
    <span class="n">ops</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">opType</span> <span class="ow">in</span> <span class="n">opTypes</span><span class="p">:</span>
      <span class="n">ops</span><span class="p">[</span><span class="n">opType</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">elem</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">operations</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">op</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;__&#39;</span><span class="p">):</span>
        <span class="k">pass</span>
      <span class="k">elif</span> <span class="p">(</span><span class="n">op</span><span class="o">.</span><span class="n">target</span> <span class="o">==</span> <span class="n">elem</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">MetaModel</span><span class="o">.</span><span class="n">MetaRole</span><span class="p">)</span> <span class="ow">and</span>
           <span class="n">elem</span><span class="o">.</span><span class="n">hierarchy</span> <span class="o">==</span> <span class="n">metaConstants</span><span class="o">.</span><span class="n">child_hierarchy</span> <span class="ow">and</span>
           <span class="n">op</span><span class="o">.</span><span class="n">target</span> <span class="ow">in</span> <span class="n">elem</span><span class="o">.</span><span class="n">valueType</span><span class="o">.</span><span class="n">getNonAbstractSubtypes</span><span class="p">())):</span>
        <span class="n">ops</span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">opType</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">op</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">op</span><span class="p">))</span>

    <span class="n">methods</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">opType</span> <span class="ow">in</span> <span class="n">opTypes</span><span class="p">:</span>
      <span class="n">ops</span><span class="p">[</span><span class="n">opType</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
      <span class="n">methods</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">op</span> <span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">op</span><span class="p">)</span> <span class="ow">in</span> <span class="n">ops</span><span class="p">[</span><span class="n">opType</span><span class="p">]])</span>

    <span class="k">return</span> <span class="n">methods</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getClassPageMethods"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getClassPageMethods">[docs]</a>  <span class="k">def</span> <span class="nf">getClassPageMethods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complexDataType</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>

    <span class="k">raise</span> <span class="n">MemopsError</span><span class="p">(</span><span class="s1">&#39;must be overridden in subclass&#39;</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getParamString"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getParamString">[docs]</a>  <span class="k">def</span> <span class="nf">getParamString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameter</span><span class="p">):</span>

    <span class="k">raise</span> <span class="n">MemopsError</span><span class="p">(</span><span class="s1">&#39;must be overridden in subclass&#39;</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getKeywordValueString"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getKeywordValueString">[docs]</a>  <span class="k">def</span> <span class="nf">getKeywordValueString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>

    <span class="k">raise</span> <span class="n">MemopsError</span><span class="p">(</span><span class="s1">&#39;must be overridden in subclass&#39;</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.getNewParamString"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.getNewParamString">[docs]</a>  <span class="k">def</span> <span class="nf">getNewParamString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>

    <span class="k">raise</span> <span class="n">MemopsError</span><span class="p">(</span><span class="s1">&#39;must be overridden in subclass&#39;</span><span class="p">)</span></div>

  <span class="c1">###########################################################################</span>

  <span class="c1">###########################################################################</span>

<div class="viewcode-block" id="ApiDocGen.writeConstructorRows"><a class="viewcode-back" href="../../../../../../ccpnmodel/ccpnmodel.ccpncore.memops.scripts.docgen.html#ccpnmodel.ccpncore.memops.scripts.docgen.ApiDocGen.ApiDocGen.writeConstructorRows">[docs]</a>  <span class="k">def</span> <span class="nf">writeConstructorRows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clazz</span><span class="p">,</span> <span class="n">mandatoryElements</span><span class="p">):</span>

    <span class="k">raise</span> <span class="n">MemopsError</span><span class="p">(</span><span class="s1">&#39;must be overridden in subclass&#39;</span><span class="p">)</span></div></div>

</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../../index.html">Python  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../../../index.html" >Module code</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright .
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.0.
    </div>
  </body>
</html>