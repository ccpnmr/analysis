<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Importing a Sparky Project</title>
    <style >.action {color: #803594; font-weight:bold;}</style>
    <link rel="stylesheet" href="CcpnVideoTutorials.css">
</head>
<body>
<div><img src="CCPN.png" alt="CCPN Logo" height="50"></div>
<br>
<div class="headerBar">Importing a Sparky Project</div>
<div class="tutorial">
<h2>Importing a Sparky Project</h2>
<p>Analysis V3 contains a simple Sparky importer. Since Sparky projects don't always follow a completely standard setup, we cannot guarantee that your project will be imported fully, but hopefully most of your data will be transferred into CcpNmr AnalysisAssign V3 correctly.</p>
<p>You can import a Sparky project by <span class="action">dragging & dropping</span> a Sparky .proj file onto the <span class="action">sidebar</span> or <span class="action">drop area</span>. You can also <span class="action">drag & drop</span> one or more Sparky .save files into Analysis.</p>
<h3>Changing amino acid types from 1-letter to 3-letter code</h3>
<p>Amino acid types in Sparky projects are often given in one-letter code. Analysis, by contrast, uses uppercase three-letter code (IUPAC and NEF convention). In order for Analysis to recognise your assignment correctly, your assignments must specify the amino acid types in three-letter code. We have included a simple macro which will allow you to convert your amino acid types from one- to three-letter code. To run the macro, go to <span class="action">Macro / CCPN Macros</span> and select <span class="action">ConvertNmrResiduesOneToThreeLetterCode</span>. Any NmrResidues with amino acid types in 1-letter code will be converted to 3-letter code. Please note that this macro runs fairly slowly - the terminal output will show your progress.</p>
<h3>Moving peak assignments into a single NmrChain</h3>
<p>Depending on the setup of your Sparky project you may find that you have lots of different NmrChains in your Analysis project - one for each spectrum and one for the resonance list. You will encounter the same situation if you have imported several .save files. You can move all your NmrResidues into a single NmrChain using a macro provided by CCPN. Go to <span class="action">Macro / CCPN Macros</span> and select <span class="action">MovePeakAssignmentsToMoleculeChain</span> to run it. All your NmrChains will be merged into a single NmrChain called <span class="action">molecule</span> which you can then rename by <span class="action">double-clicking</span> on it in the <span class="action">sidebar</span>.</p>
<h3>Known issues</h3>
<p>November 2019 - we are aware of several issues which may cause problems when importing a Sparky project. For example, the presence of 'QB'-style pseudoatoms will prevent the project from opening and peak lists are not always imported correctly. We are currently working on fixes for these issues.</p>
</div>
</body>
</html>